// generated by Fast Light User Interface Designer (fluid) version 1.0104

#include "HORGAN.h"

Drawbar::Drawbar(int x,int y, int w, int h, const char *label):Fl_Slider(x,y,w,h,label) {
}

int Drawbar::handle(int event) {
  switch(event)
{

case FL_RELEASE:
{
draw();
vavi=1;
do_callback();
return 1;
}


case FL_DRAG: 
{
Fl_Slider::handle(FL_DRAG,x(),y(),w(),h());
draw();
do_callback();
return 1;
}

case FL_SHORTCUT:
return 0;

default:
return 1;
}
}

Rueda::Rueda(int x,int y, int w, int h, const char *label):Fl_Dial(x,y,w,h,label) {
}

int Rueda::handle(int event) {
  switch(event)
{

case FL_RELEASE:
{
draw();
vavi=1;
do_callback();
return 1;
}


case FL_DRAG: 
{
Fl_Dial::handle(FL_DRAG,x(),y(),w(),h());
draw();
do_callback();
return 1;
}

case FL_SHORTCUT:
return 0;

default:
return 1;
}
}

inline void HORGAN::cb_HORwindow_i(Fl_Double_Window* o, void*) {
  Pexitprogram=1;
o->hide();
exit(0);
}
void HORGAN::cb_HORwindow(Fl_Double_Window* o, void* v) {
  ((HORGAN*)(o->user_data()))->cb_HORwindow_i(o,v);
}

inline void HORGAN::cb_PANICO_i(Fl_Button*, void*) {
  hor->panico();
}
void HORGAN::cb_PANICO(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_PANICO_i(o,v);
}

inline void HORGAN::cb_MFile_i(Fl_Menu_*, void*) {
  Fl::focus(PANICO);
}
void HORGAN::cb_MFile(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_MFile_i(o,v);
}

inline void HORGAN::cb_New_i(Fl_Menu_*, void*) {
  hor->New();
metelo();
Actu();
PutPrim();
sprintf(hor->temporal, "--"); 
DispNumber->label(hor->temporal);
}
void HORGAN::cb_New(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_New_i(o,v);
}

inline void HORGAN::cb_Load_i(Fl_Menu_*, void*) {
  char *filename;
Fl::focus(PANICO);
filename=fl_file_chooser("Load:","(*.hor)",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,".hor");
hor->loadfile(filename);
metelo();
Actu();
PutPrim();
sprintf(hor->temporal,"--");
DispNumber->label(hor->temporal);
}
void HORGAN::cb_Load(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Load_i(o,v);
}

inline void HORGAN::cb_Save_i(Fl_Menu_*, void*) {
  char *filename;
#define EXT ".hor"
filename=fl_file_chooser("Save:","(*"EXT")",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,EXT);
#undef EXT
hor->savefile(filename);
PutPrim();
}
void HORGAN::cb_Save(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Save_i(o,v);
}

inline void HORGAN::cb_Load1_i(Fl_Menu_*, void*) {
  char *filename;
Fl::focus(PANICO);
filename=fl_file_chooser("Load:","(*.hrt)",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,".hrt");
hor->loadrhyt(filename);
meteritmos();
}
void HORGAN::cb_Load1(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Load1_i(o,v);
}

inline void HORGAN::cb_Save1_i(Fl_Menu_*, void*) {
  char *filename;
#define EXT ".hrt"
filename=fl_file_chooser("Save:","(*"EXT")",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,EXT);
#undef EXT
hor->saverhyt(filename);
}
void HORGAN::cb_Save1(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Save1_i(o,v);
}

inline void HORGAN::cb_About_i(Fl_Menu_*, void*) {
  aboutwindow->position(200,200);
aboutwindow->show();
}
void HORGAN::cb_About(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_About_i(o,v);
}

inline void HORGAN::cb_E_i(Fl_Menu_* o, void*) {
  Pexitprogram=1;
o->hide();
exit(0);
}
void HORGAN::cb_E(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_E_i(o,v);
}

inline void HORGAN::cb_Undo_i(Fl_Menu_*, void*) {
  Undo();
}
void HORGAN::cb_Undo(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Undo_i(o,v);
}

inline void HORGAN::cb_Redo_i(Fl_Menu_*, void*) {
  Redo();
}
void HORGAN::cb_Redo(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Redo_i(o,v);
}

inline void HORGAN::cb_MBank_i(Fl_Menu_*, void*) {
  HORBank->position(1,1);
HORBank->show();
Fl::focus(BClose);
}
void HORGAN::cb_MBank(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_MBank_i(o,v);
}

inline void HORGAN::cb_Settings_i(Fl_Menu_*, void*) {
  MiraClientes();
MiraConfig();
Settingswindow->position(1,1);
Settingswindow->show();
Fl::focus(SClose);
}
void HORGAN::cb_Settings(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Settings_i(o,v);
}

Fl_Menu_Item HORGAN::menu_MenuPrincipal[] = {
 {"&File", 0,  (Fl_Callback*)HORGAN::cb_MFile, 0, 64, 0, 0, 14, 56},
 {"&New...", 0,  (Fl_Callback*)HORGAN::cb_New, 0, 0, 0, 0, 14, 56},
 {"&Load...", 0,  (Fl_Callback*)HORGAN::cb_Load, 0, 0, 0, 0, 14, 56},
 {"&Save...", 0,  (Fl_Callback*)HORGAN::cb_Save, 0, 128, 0, 0, 14, 56},
 {"Load Ryth...", 0,  (Fl_Callback*)HORGAN::cb_Load1, 0, 0, 0, 0, 14, 56},
 {"Save Rhyt...", 0,  (Fl_Callback*)HORGAN::cb_Save1, 0, 128, 0, 0, 14, 56},
 {"&About...", 0,  (Fl_Callback*)HORGAN::cb_About, 0, 128, 0, 0, 14, 56},
 {"E&xit", 0,  (Fl_Callback*)HORGAN::cb_E, 0, 0, 0, 0, 14, 56},
 {0},
 {"&Edit", 0,  0, 0, 64, 0, 0, 14, 56},
 {"&Undo", 0x4007a,  (Fl_Callback*)HORGAN::cb_Undo, 0, 0, 0, 0, 14, 56},
 {"&Redo", 0x40072,  (Fl_Callback*)HORGAN::cb_Redo, 0, 0, 0, 0, 14, 56},
 {0},
 {"&Bank", 0x80062,  (Fl_Callback*)HORGAN::cb_MBank, 0, 0, 0, 0, 14, 56},
 {"&Settings", 0x80073,  (Fl_Callback*)HORGAN::cb_Settings, 0, 0, 0, 0, 14, 56},
 {0}
};
Fl_Menu_Item* HORGAN::MFile = HORGAN::menu_MenuPrincipal + 0;
Fl_Menu_Item* HORGAN::MEdit = HORGAN::menu_MenuPrincipal + 9;
Fl_Menu_Item* HORGAN::MBank = HORGAN::menu_MenuPrincipal + 13;

inline void HORGAN::cb_CF_i(Fl_Light_Button* o, void*) {
  if (o->value() != 0 ) {
CL->deactivate();
MFile->deactivate();
MBank->deactivate();
MEdit->deactivate();
}
else {
CL->activate();
MFile->activate();
MBank->activate();
MEdit->activate();
}

if ( o->value() != 0 ) GetPrim(); else {
UndoCount++;
Undo();
};
}
void HORGAN::cb_CF(Fl_Light_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_CF_i(o,v);
}

inline void HORGAN::cb_CL_i(Fl_Light_Button* o, void*) {
  if (o->value() != 0 ) {
CF->deactivate();
MFile->deactivate();
MBank->deactivate();
MEdit->deactivate();
}
else{

CF->activate();
MFile->activate();
MBank->activate();
MEdit->activate();
}

if ( o->value() != 0 ) Undo(); else Redo();
}
void HORGAN::cb_CL(Fl_Light_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_CL_i(o,v);
}

inline void HORGAN::cb_VUI1_i(Fl_Slider* o, void*) {
  o->value(vum);
}
void HORGAN::cb_VUI1(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_VUI1_i(o,v);
}

inline void HORGAN::cb_DMIN1_i(Fl_Box* o, void*) {
  o->label(hor->MidiInPuerto[1].pMIDIIN);
}
void HORGAN::cb_DMIN1(Fl_Box* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_DMIN1_i(o,v);
}

inline void HORGAN::cb_Transpose_i(Fl_Counter* o, void*) {
  hor->transpose = (int) o->value();
calbtrans();
Actu();
}
void HORGAN::cb_Transpose(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Transpose_i(o,v);
}

inline void HORGAN::cb_Master_i(Drawbar* o, void*) {
  hor->master = (float) o->value() / 100.0;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_Master(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Master_i(o,v);
}

inline void HORGAN::cb_Nombre_i(Fl_Input* o, void*) {
  hor->nombre=(char*) o->value();
strncpy(hor->Name,hor->nombre,24);
Actu();
}
void HORGAN::cb_Nombre(Fl_Input* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Nombre_i(o,v);
}

inline void HORGAN::cb_MasterT_i(Fl_Counter* o, void*) {
  hor->mastertune = 1 + (float) (o->value() / 1600);
calbtune();
}
void HORGAN::cb_MasterT(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_MasterT_i(o,v);
}

inline void HORGAN::cb_V1_i(Drawbar* o, void*) {
  hor->Operator[1].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V1(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V1_i(o,v);
}

inline void HORGAN::cb_V2_i(Drawbar* o, void*) {
  hor->Operator[2].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V2(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V2_i(o,v);
}

inline void HORGAN::cb_V3_i(Drawbar* o, void*) {
  hor->Operator[3].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V3(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V3_i(o,v);
}

inline void HORGAN::cb_Marimba_i(Drawbar* o, void*) {
  hor->attack = (float) o->value() / 100.0;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_Marimba(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Marimba_i(o,v);
}

inline void HORGAN::cb_V4_i(Drawbar* o, void*) {
  hor->Operator[4].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V4(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V4_i(o,v);
}

inline void HORGAN::cb_V5_i(Drawbar* o, void*) {
  hor->Operator[5].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V5(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V5_i(o,v);
}

inline void HORGAN::cb_V6_i(Drawbar* o, void*) {
  hor->Operator[6].volumen = (float) o->value() / 100;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_V6(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_V6_i(o,v);
}

inline void HORGAN::cb_Detune_i(Rueda* o, void*) {
  hor->detune = (float) o->value();
int i,k;
k = -1;
for (i=1; i<=6; i++)
{
if (k==1) k=-1; else k=1;
hor->Operator[i].harmonic_fine = (float) ((k * o->value()) / (i * 10000.0));
}
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_Detune(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Detune_i(o,v);
}

inline void HORGAN::cb_LFOSpeed_i(Rueda* o, void*) {
  hor->LFOspeed = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_LFOSpeed(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_LFOSpeed_i(o,v);
}

inline void HORGAN::cb_LFOPitch_i(Rueda* o, void*) {
  hor->LFOpitch = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_LFOPitch(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_LFOPitch_i(o,v);
}

inline void HORGAN::cb_PLFOSpeed_i(Rueda* o, void*) {
  hor->PLFOspeed = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_PLFOSpeed(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_PLFOSpeed_i(o,v);
}

inline void HORGAN::cb_PLFODelay_i(Rueda* o, void*) {
  hor->PLFOdelay = (float) o->value() / 10;
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_PLFODelay(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_PLFODelay_i(o,v);
}

inline void HORGAN::cb_EchoVol_i(Fl_Counter* o, void*) {
  hor->echovol = (float) o->value() / 100;
Actu();
}
void HORGAN::cb_EchoVol(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_EchoVol_i(o,v);
}

inline void HORGAN::cb_EchoDelay_i(Fl_Counter* o, void*) {
  hor->echodelay = (float) o->value() * 176400;
Actu();
}
void HORGAN::cb_EchoDelay(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_EchoDelay_i(o,v);
}

inline void HORGAN::cb_H1_i(Fl_Slider* o, void*) {
  hor->Operator[1].harmonic = (int) o->value();

NV1->value(hor->lasfreq[(int) o->value()]);

Actu();
}
void HORGAN::cb_H1(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H1_i(o,v);
}

inline void HORGAN::cb_H2_i(Fl_Slider* o, void*) {
  hor->Operator[2].harmonic = (int) o->value();

NV2->value(hor->lasfreq[(int) o->value()]);
Actu();
}
void HORGAN::cb_H2(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H2_i(o,v);
}

inline void HORGAN::cb_H3_i(Fl_Slider* o, void*) {
  hor->Operator[3].harmonic = (int) o->value();


NV3->value(hor->lasfreq[(int) o->value()]);

Actu();
}
void HORGAN::cb_H3(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H3_i(o,v);
}

inline void HORGAN::cb_H4_i(Fl_Slider* o, void*) {
  hor->Operator[4].harmonic = (int) o->value();


NV4->value(hor->lasfreq[(int) o->value()]);

Actu();
}
void HORGAN::cb_H4(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H4_i(o,v);
}

inline void HORGAN::cb_H5_i(Fl_Slider* o, void*) {
  hor->Operator[5].harmonic = (int) o->value();


NV5->value(hor->lasfreq[(int) o->value()]);
Actu();
}
void HORGAN::cb_H5(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H5_i(o,v);
}

inline void HORGAN::cb_H6_i(Fl_Slider* o, void*) {
  hor->Operator[6].harmonic = (int) o->value();

NV6->value(hor->lasfreq[(int) o->value()]);
Actu();
}
void HORGAN::cb_H6(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_H6_i(o,v);
}

inline void HORGAN::cb_Rota_i(Fl_Button*, void*) {
  if (hor->rota == 0) hor->rota = 1; else hor->rota = 0;
Actu();
}
void HORGAN::cb_Rota(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Rota_i(o,v);
}

inline void HORGAN::cb_ELFOSpeed_i(Rueda* o, void*) {
  hor->ELFOspeed = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_ELFOSpeed(Rueda* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_ELFOSpeed_i(o,v);
}

inline void HORGAN::cb_ELFOAmplitude_i(Drawbar* o, void*) {
  hor->ELFOamplitude = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_ELFOAmplitude(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_ELFOAmplitude_i(o,v);
}

inline void HORGAN::cb_POPO_i(Drawbar* o, void*) {
  hor->popo = (float) o->value();
if (vavi == 1)
{ 
Actu();
vavi = 0;
};
}
void HORGAN::cb_POPO(Drawbar* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_POPO_i(o,v);
}

inline void HORGAN::cb_ChorVol_i(Fl_Counter* o, void*) {
  hor->chorvol = (float) o->value() / 100;
Actu();
}
void HORGAN::cb_ChorVol(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_ChorVol_i(o,v);
}

inline void HORGAN::cb_Split_i(Fl_Button*, void*) {
  if (hor->split == 0) hor->split = 1; else hor->split = 0;
Actu();
}
void HORGAN::cb_Split(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Split_i(o,v);
}

inline void HORGAN::cb_DMIN2_i(Fl_Box* o, void*) {
  switch (hor->Salida)
{
 case 1:
        o->label("OSS");
        break;
 case 2:
        o->label("Alsa");
        break;
 case 3:
        o->label("Jack");
        break;
};
}
void HORGAN::cb_DMIN2(Fl_Box* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_DMIN2_i(o,v);
}

inline void HORGAN::cb_EchoOn_i(Fl_Button* o, void*) {
  hor->echoon =  o->value();
hor->procesaclean();
Actu();
}
void HORGAN::cb_EchoOn(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_EchoOn_i(o,v);
}

inline void HORGAN::cb_ChorusOn_i(Fl_Button* o, void*) {
  hor->choron =  o->value();
hor->chorusclean();
Actu();
}
void HORGAN::cb_ChorusOn(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_ChorusOn_i(o,v);
}

inline void HORGAN::cb_R1_i(Fl_Button*, void*) {
  hor->ganmod = 1;
ponreverb();
Actu();
}
void HORGAN::cb_R1(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R1_i(o,v);
}

inline void HORGAN::cb_R2_i(Fl_Button*, void*) {
  hor->ganmod = 2;
ponreverb();
Actu();
}
void HORGAN::cb_R2(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R2_i(o,v);
}

inline void HORGAN::cb_R3_i(Fl_Button*, void*) {
  hor->ganmod = 3;
ponreverb();
Actu();
}
void HORGAN::cb_R3(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R3_i(o,v);
}

inline void HORGAN::cb_R4_i(Fl_Button*, void*) {
  hor->ganmod = 4;
ponreverb();
Actu();
}
void HORGAN::cb_R4(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R4_i(o,v);
}

inline void HORGAN::cb_R5_i(Fl_Button*, void*) {
  hor->ganmod = 5;
ponreverb();
Actu();
}
void HORGAN::cb_R5(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R5_i(o,v);
}

inline void HORGAN::cb_R6_i(Fl_Button*, void*) {
  hor->ganmod = 6;
ponreverb();
Actu();
}
void HORGAN::cb_R6(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R6_i(o,v);
}

inline void HORGAN::cb_R7_i(Fl_Button*, void*) {
  hor->ganmod = 7;
ponreverb();
Actu();
}
void HORGAN::cb_R7(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R7_i(o,v);
}

inline void HORGAN::cb_R8_i(Fl_Button*, void*) {
  hor->ganmod = 8;
ponreverb();
Actu();
}
void HORGAN::cb_R8(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_R8_i(o,v);
}

inline void HORGAN::cb_Rev_i(Fl_Button* o, void*) {
  if (o->value()== 0) 
{
hor->revon= 0;
R1->value(0);
R2->value(0);
R3->value(0);
R4->value(0);
R5->value(0);
R6->value(0);
R7->value(0);
R8->value(0);
R1->deactivate();
R2->deactivate();
R3->deactivate();
R4->deactivate();
R5->deactivate();
R6->deactivate();
R7->deactivate();
R8->deactivate();


}
else
{
hor->revon = 1;
R1->activate();
R2->activate();
R3->activate();
R4->activate();
R5->activate();
R6->activate();
R7->activate();
R8->activate();

if (hor->ganmod==0) hor->ganmod = 1;

switch((int) hor->ganmod)
{
case 1:
R1->setonly();
break;
case 2:
R2->setonly();
break;
case 3:
R3->setonly();
break;
case 4:
R4->setonly();
break;
case 5:
R5->setonly();
break;
case 6:
R6->setonly();
break;
case 7:
R7->setonly();
break;
case 8:
R8->setonly();
break;
}
}
hor->rclean();
Actu();
}
void HORGAN::cb_Rev(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Rev_i(o,v);
}

inline void HORGAN::cb_RitVol_i(Fl_Slider* o, void*) {
  hor->ritvol = o->value();
}
void HORGAN::cb_RitVol(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RitVol_i(o,v);
}

inline void HORGAN::cb_Tempo_i(Fl_Dial* o, void*) {
  hor->tempo = (float) o->value();
hor->frametot = (int) (hor->tempo * hor->sfinfo.frames);
hor->fracpos = hor->frametot /(4 * hor->blackn * hor->bars);
}
void HORGAN::cb_Tempo(Fl_Dial* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Tempo_i(o,v);
}

inline void HORGAN::cb_VUI2_i(Fl_Slider* o, void*) {
  o->value(tum);
}
void HORGAN::cb_VUI2(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_VUI2_i(o,v);
}

inline void HORGAN::cb_RitOn_i(Fl_Button* o, void*) {
  StStRiton->value(o->value());
tum = 0;
hor->riton =  o->value();
VUI2->value(0);
}
void HORGAN::cb_RitOn(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RitOn_i(o,v);
}

inline void HORGAN::cb_StStRiton_i(Fl_Button* o, void*) {
  if (Rit != 0)
{
// int readcounts = sf_seek (hor->infile, 0, SEEK_SET);
RitOn->value(o->value());
tum = 0;
hor->riton =  o->value();
}

VUI2->value(0);
}
void HORGAN::cb_StStRiton(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_StStRiton_i(o,v);
}

inline void HORGAN::cb_Rit4_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 4;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit4(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit4_i(o,v);
}

inline void HORGAN::cb_Rit1_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 1;
if (Fl::event_button()==3) 
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit1(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit1_i(o,v);
}

inline void HORGAN::cb_Rit2_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 2;
if (Fl::event_button()==3)
{
 GetRit(Rit);
 EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit2(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit2_i(o,v);
}

inline void HORGAN::cb_Rit3_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 3;
if (Fl::event_button()==3)
{
 GetRit(Rit);
 EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit3(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit3_i(o,v);
}

inline void HORGAN::cb_Rit5_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 5;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit5(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit5_i(o,v);
}

inline void HORGAN::cb_Rit6_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 6;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit6(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit6_i(o,v);
}

inline void HORGAN::cb_Rit7_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 7;
if (Fl::event_button()==3) 
{
EditRit(Rit);
GetRit(Rit);
}

if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit7(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit7_i(o,v);
}

inline void HORGAN::cb_Rit8_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 8;
if (Fl::event_button()==3)
{
EditRit(Rit);
GetRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit8(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit8_i(o,v);
}

inline void HORGAN::cb_Rit9_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 9;
if (Fl::event_button()==3)
{
EditRit(Rit);
GetRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit9(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit9_i(o,v);
}

inline void HORGAN::cb_Rit10_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 10;
if (Fl::event_button()==3)
{
EditRit(Rit);
GetRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit10(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit10_i(o,v);
}

inline void HORGAN::cb_Rit11_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 11;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit11(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit11_i(o,v);
}

inline void HORGAN::cb_Rit12_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 12;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit12(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit12_i(o,v);
}

inline void HORGAN::cb_Rit13_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 13;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit13(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit13_i(o,v);
}

inline void HORGAN::cb_Rit14_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 14;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit14(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit14_i(o,v);
}

inline void HORGAN::cb_Rit15_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 15;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit15(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit15_i(o,v);
}

inline void HORGAN::cb_Rit16_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 16;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit16(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit16_i(o,v);
}

inline void HORGAN::cb_Rit17_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 17;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit17(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit17_i(o,v);
}

inline void HORGAN::cb_Rit18_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 18;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit18(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit18_i(o,v);
}

inline void HORGAN::cb_Rit19_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 19;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit19(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit19_i(o,v);
}

inline void HORGAN::cb_Rit20_i(Fl_Button* o, void*) {
  ApagaTodo();
o->value(1);
Rit = 20;
if (Fl::event_button()==3)
{
GetRit(Rit);
EditRit(Rit);
}
if (Fl::event_button()==1) GetRit(Rit);
}
void HORGAN::cb_Rit20(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Rit20_i(o,v);
}

inline void HORGAN::cb_BassVol_i(Fl_Slider* o, void*) {
  hor->bassvol = o->value();
}
void HORGAN::cb_BassVol(Fl_Slider* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_BassVol_i(o,v);
}

inline void HORGAN::cb_Basson_i(Fl_Button* o, void*) {
  //int readcounts = sf_seek (hor->infileb, 0, SEEK_SET);
tum = 0;
hor->split = o->value();
Split->value(o->value());
hor->basson =  o->value();
}
void HORGAN::cb_Basson(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Basson_i(o,v);
}

inline void HORGAN::cb_Bass1_i(Fl_Button*, void*) {
  char temp[512];

if (solucion == 1)  
sprintf(temp ,"%s", "/usr/share/horgand/AcousticBass.wav");
if (solucion == 2) 
sprintf(temp, "%s", "/usr/local/share/horgand/AcousticBass.wav");

char *tmp = temp;

hor->SelectBass(tmp);
hor->framesbass = (int) (hor->sfinfob.frames / 2.0);
}
void HORGAN::cb_Bass1(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Bass1_i(o,v);
}

inline void HORGAN::cb_Bass2_i(Fl_Button*, void*) {
  char temp[512];

if (solucion == 1)  
sprintf(temp ,"%s", "/usr/share/horgand/FenderBass.wav");
if (solucion == 2) 
sprintf(temp, "%s", "/usr/local/share/horgand/FenderBass.wav");

char *tmp = temp;

hor->SelectBass(tmp);
hor->framesbass = (int) (hor->sfinfob.frames / 2.0);
}
void HORGAN::cb_Bass2(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Bass2_i(o,v);
}

inline void HORGAN::cb_Bass3_i(Fl_Button*, void*) {
  char temp[512];

if (solucion == 1)  
sprintf(temp ,"%s", "/usr/share/horgand/FretlessBass.wav");
if (solucion == 2) 
sprintf(temp, "%s", "/usr/local/share/horgand/FretlessBass.wav");

char *tmp = temp;



hor->SelectBass(tmp);
hor->framesbass = (int) (hor->sfinfob.frames / 2.0);
}
void HORGAN::cb_Bass3(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_Bass3_i(o,v);
}

inline void HORGAN::cb_CPrograma_i(Fl_Counter* o, void*) {
  hor->cprograma = (int) o->value();
PutCombi(hor->cprograma);
Actu();
}
void HORGAN::cb_CPrograma(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_CPrograma_i(o,v);
}

inline void HORGAN::cb_OK_i(Fl_Button*, void*) {
  aboutwindow->hide();
}
void HORGAN::cb_OK(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_OK_i(o,v);
}

inline void HORGAN::cb_SClose_i(Fl_Button*, void*) {
  Settingswindow->hide();
}
void HORGAN::cb_SClose(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_SClose_i(o,v);
}

inline void HORGAN::cb_Save2_i(Fl_Button*, void*) {
  GrabaSettings();
fl_message("Changes will take effect the next time you restart the program");
Settingswindow->hide();
}
void HORGAN::cb_Save2(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Save2_i(o,v);
}

inline void HORGAN::cb_BMidiIn_i(Fl_Browser* o, void*) {
  int valor;
valor = (int) o->value();
hor->MidiInPuerto[1].SMidiIn =(char*) o->text(valor);
o->select(valor,1);
}
void HORGAN::cb_BMidiIn(Fl_Browser* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_BMidiIn_i(o,v);
}

inline void HORGAN::cb_Browse_i(Fl_Button*, void*) {
  char *filename;
filename=fl_file_chooser("Browse:","(*.horeb)",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,".horeb");
BFiname->value(filename);
strcpy(hor->BankFilename,filename);
}
void HORGAN::cb_Browse(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Browse_i(o,v);
}

inline void HORGAN::cb_BClose_i(Fl_Button*, void*) {
  HORBank->hide();
Fl::focus(PANICO);
}
void HORGAN::cb_BClose(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_BClose_i(o,v);
}

inline void HORGAN::cb_BLoad_i(Fl_Menu_*, void*) {
  char *filename;
filename=fl_file_chooser("Load:","(*.horeb)",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,".horeb");
hor->loadbank(filename);
metebanco();
}
void HORGAN::cb_BLoad(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_BLoad_i(o,v);
}

inline void HORGAN::cb_BSave_i(Fl_Menu_*, void*) {
  char *filename;
#define EXT ".horeb"
filename=fl_file_chooser("Save:","(*"EXT")",NULL,0);
if (filename==NULL) return;
filename=fl_filename_setext(filename,EXT);
#undef EXT
hor->savebank(filename);
}
void HORGAN::cb_BSave(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_BSave_i(o,v);
}

inline void HORGAN::cb_Close_i(Fl_Menu_*, void*) {
  HORBank->hide();
Fl::focus(PANICO);
}
void HORGAN::cb_Close(Fl_Menu_* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Close_i(o,v);
}

Fl_Menu_Item HORGAN::menu_[] = {
 {"&File", 0,  0, 0, 64, 0, 0, 14, 56},
 {"&Load", 0,  (Fl_Callback*)HORGAN::cb_BLoad, 0, 0, 0, 0, 14, 56},
 {"&Save", 0,  (Fl_Callback*)HORGAN::cb_BSave, 0, 128, 0, 0, 14, 56},
 {"&Close", 0,  (Fl_Callback*)HORGAN::cb_Close, 0, 0, 0, 0, 14, 56},
 {0},
 {0}
};
Fl_Menu_Item* HORGAN::BFile = HORGAN::menu_ + 0;
Fl_Menu_Item* HORGAN::BLoad = HORGAN::menu_ + 1;
Fl_Menu_Item* HORGAN::BSave = HORGAN::menu_ + 2;

inline void HORGAN::cb_Banco1_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(1);
if (Fl::event_button()==1) PutCombi(1);
o->label(hor->Banco[1].Name);
}
void HORGAN::cb_Banco1(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco1_i(o,v);
}

inline void HORGAN::cb_Banco2_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(2);
if (Fl::event_button()==1) PutCombi(2);
o->label(hor->Banco[2].Name);
}
void HORGAN::cb_Banco2(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco2_i(o,v);
}

inline void HORGAN::cb_Banco3_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(3);
if (Fl::event_button()==1) PutCombi(3);
o->label(hor->Banco[3].Name);
}
void HORGAN::cb_Banco3(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco3_i(o,v);
}

inline void HORGAN::cb_Banco4_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(4);
if (Fl::event_button()==1) PutCombi(4);
o->label(hor->Banco[4].Name);
}
void HORGAN::cb_Banco4(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco4_i(o,v);
}

inline void HORGAN::cb_Banco5_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(5);
if (Fl::event_button()==1) PutCombi(5);
o->label(hor->Banco[5].Name);
}
void HORGAN::cb_Banco5(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco5_i(o,v);
}

inline void HORGAN::cb_Banco6_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(6);
if (Fl::event_button()==1) PutCombi(6);
o->label(hor->Banco[6].Name);
}
void HORGAN::cb_Banco6(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco6_i(o,v);
}

inline void HORGAN::cb_Banco7_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(7);
if (Fl::event_button()==1) PutCombi(7);
o->label(hor->Banco[7].Name);
}
void HORGAN::cb_Banco7(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco7_i(o,v);
}

inline void HORGAN::cb_Banco8_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(8);
if (Fl::event_button()==1) PutCombi(8);
o->label(hor->Banco[8].Name);
}
void HORGAN::cb_Banco8(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco8_i(o,v);
}

inline void HORGAN::cb_Banco9_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(9);
if (Fl::event_button()==1) PutCombi(9);
o->label(hor->Banco[9].Name);
}
void HORGAN::cb_Banco9(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco9_i(o,v);
}

inline void HORGAN::cb_Banco10_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(10);
if (Fl::event_button()==1) PutCombi(10);
o->label(hor->Banco[10].Name);
}
void HORGAN::cb_Banco10(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco10_i(o,v);
}

inline void HORGAN::cb_Banco11_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(11);
if (Fl::event_button()==1) PutCombi(11);
o->label(hor->Banco[11].Name);
}
void HORGAN::cb_Banco11(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco11_i(o,v);
}

inline void HORGAN::cb_Banco12_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(12);
if (Fl::event_button()==1) PutCombi(12);
o->label(hor->Banco[12].Name);
}
void HORGAN::cb_Banco12(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco12_i(o,v);
}

inline void HORGAN::cb_Banco13_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(13);
if (Fl::event_button()==1) PutCombi(13);
o->label(hor->Banco[13].Name);
}
void HORGAN::cb_Banco13(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco13_i(o,v);
}

inline void HORGAN::cb_Banco14_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(14);
if (Fl::event_button()==1) PutCombi(14);
o->label(hor->Banco[14].Name);
}
void HORGAN::cb_Banco14(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco14_i(o,v);
}

inline void HORGAN::cb_Banco15_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(15);
if (Fl::event_button()==1) PutCombi(15);
o->label(hor->Banco[15].Name);
}
void HORGAN::cb_Banco15(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco15_i(o,v);
}

inline void HORGAN::cb_Banco16_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(16);
if (Fl::event_button()==1) PutCombi(16);
o->label(hor->Banco[16].Name);
}
void HORGAN::cb_Banco16(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco16_i(o,v);
}

inline void HORGAN::cb_Banco17_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(17);
if (Fl::event_button()==1) PutCombi(17);
o->label(hor->Banco[17].Name);
}
void HORGAN::cb_Banco17(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco17_i(o,v);
}

inline void HORGAN::cb_Banco18_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(18);
if (Fl::event_button()==1) PutCombi(18);
o->label(hor->Banco[18].Name);
}
void HORGAN::cb_Banco18(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco18_i(o,v);
}

inline void HORGAN::cb_Banco19_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(19);
if (Fl::event_button()==1) PutCombi(19);
o->label(hor->Banco[19].Name);
}
void HORGAN::cb_Banco19(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco19_i(o,v);
}

inline void HORGAN::cb_Banco20_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(20);
if (Fl::event_button()==1) PutCombi(20);
o->label(hor->Banco[20].Name);
}
void HORGAN::cb_Banco20(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco20_i(o,v);
}

inline void HORGAN::cb_Banco21_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(21);
if (Fl::event_button()==1) PutCombi(21);
o->label(hor->Banco[21].Name);
}
void HORGAN::cb_Banco21(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco21_i(o,v);
}

inline void HORGAN::cb_Banco22_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(22);
if (Fl::event_button()==1) PutCombi(22);
o->label(hor->Banco[22].Name);
}
void HORGAN::cb_Banco22(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco22_i(o,v);
}

inline void HORGAN::cb_Banco23_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(23);
if (Fl::event_button()==1) PutCombi(23);
o->label(hor->Banco[23].Name);
}
void HORGAN::cb_Banco23(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco23_i(o,v);
}

inline void HORGAN::cb_Banco24_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(24);
if (Fl::event_button()==1) PutCombi(24);
o->label(hor->Banco[24].Name);
}
void HORGAN::cb_Banco24(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco24_i(o,v);
}

inline void HORGAN::cb_Banco25_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(25);
if (Fl::event_button()==1) PutCombi(25);
o->label(hor->Banco[25].Name);
}
void HORGAN::cb_Banco25(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco25_i(o,v);
}

inline void HORGAN::cb_Banco26_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(26);
if (Fl::event_button()==1) PutCombi(26);
o->label(hor->Banco[26].Name);
}
void HORGAN::cb_Banco26(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco26_i(o,v);
}

inline void HORGAN::cb_Banco27_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(27);
if (Fl::event_button()==1) PutCombi(27);
o->label(hor->Banco[27].Name);
}
void HORGAN::cb_Banco27(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco27_i(o,v);
}

inline void HORGAN::cb_Banco28_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(28);
if (Fl::event_button()==1) PutCombi(28);
o->label(hor->Banco[28].Name);
}
void HORGAN::cb_Banco28(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco28_i(o,v);
}

inline void HORGAN::cb_Banco29_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(29);
if (Fl::event_button()==1) PutCombi(29);
o->label(hor->Banco[29].Name);
}
void HORGAN::cb_Banco29(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco29_i(o,v);
}

inline void HORGAN::cb_Banco30_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(30);
if (Fl::event_button()==1) PutCombi(30);
o->label(hor->Banco[30].Name);
}
void HORGAN::cb_Banco30(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco30_i(o,v);
}

inline void HORGAN::cb_Banco31_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(31);
if (Fl::event_button()==1) PutCombi(31);
o->label(hor->Banco[31].Name);
}
void HORGAN::cb_Banco31(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco31_i(o,v);
}

inline void HORGAN::cb_Banco32_i(Fl_Button* o, void*) {
  if (Fl::event_button()==3) GetCombi(32);
if (Fl::event_button()==1) PutCombi(32);
o->label(hor->Banco[32].Name);
}
void HORGAN::cb_Banco32(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_Banco32_i(o,v);
}

inline void HORGAN::cb_RitEdit_i(Fl_Double_Window*, void*) {
  if((hor->Rt[hor->ae].bars < 1) || (hor->Rt[hor->ae].bars > 4))
{
fl_alert("Bars error.");
return;
}  

if((hor->Rt[hor->ae].blackn < 2) || (hor->Rt[hor->ae].blackn > 4))
{
fl_alert("Nom. error");
return;
}  
if (hor->fe == 1)
{
GetRit(hor->ae);
}
RitEdit->hide();
}
void HORGAN::cb_RitEdit(Fl_Double_Window* o, void* v) {
  ((HORGAN*)(o->user_data()))->cb_RitEdit_i(o,v);
}

inline void HORGAN::cb_RtName_i(Fl_Input* o, void*) {
  strcpy(hor->Rt[hor->ae].Nom , o->value());
}
void HORGAN::cb_RtName(Fl_Input* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RtName_i(o,v);
}

inline void HORGAN::cb_RtFile_i(Fl_Input* o, void*) {
  strcpy(hor->Rt[hor->ae].Nfile, o->value());
}
void HORGAN::cb_RtFile(Fl_Input* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RtFile_i(o,v);
}

inline void HORGAN::cb_RtBars_i(Fl_Value_Input* o, void*) {
  hor->Rt[hor->ae].bars = (int) o->value();
}
void HORGAN::cb_RtBars(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RtBars_i(o,v);
}

inline void HORGAN::cb_RtDen_i(Fl_Value_Input* o, void*) {
  hor->Rt[hor->ae].blackn = (int)o->value();
QuitaPon();
}
void HORGAN::cb_RtDen(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_RtDen_i(o,v);
}

inline void HORGAN::cb_lb1_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 1;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb1(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb1_i(o,v);
}

inline void HORGAN::cb_lb2_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 2;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb2(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb2_i(o,v);
}

inline void HORGAN::cb_lb3_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 3;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb3(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb3_i(o,v);
}

inline void HORGAN::cb_lb4_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 4;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb4(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb4_i(o,v);
}

inline void HORGAN::cb_lbv1_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 1;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv1(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv1_i(o,v);
}

inline void HORGAN::cb_lbv2_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 2;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv2(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv2_i(o,v);
}

inline void HORGAN::cb_lbv3_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 3;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv3(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv3_i(o,v);
}

inline void HORGAN::cb_lbv4_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 4;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv4(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv4_i(o,v);
}

inline void HORGAN::cb_lb5_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 5;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb5(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb5_i(o,v);
}

inline void HORGAN::cb_lb6_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 6;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb6(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb6_i(o,v);
}

inline void HORGAN::cb_lb7_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 7;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb7(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb7_i(o,v);
}

inline void HORGAN::cb_lb8_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 8;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb8(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb8_i(o,v);
}

inline void HORGAN::cb_lbv5_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 5;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv5(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv5_i(o,v);
}

inline void HORGAN::cb_lbv6_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 6;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv6(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv6_i(o,v);
}

inline void HORGAN::cb_lbv7_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 7;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv7(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv7_i(o,v);
}

inline void HORGAN::cb_lbv8_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 8;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv8(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv8_i(o,v);
}

inline void HORGAN::cb_lb9_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 9;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb9(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb9_i(o,v);
}

inline void HORGAN::cb_lb10_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 10;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb10(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb10_i(o,v);
}

inline void HORGAN::cb_lb11_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 11;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb11(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb11_i(o,v);
}

inline void HORGAN::cb_lb12_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 12;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb12(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb12_i(o,v);
}

inline void HORGAN::cb_lbv9_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 9;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv9(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv9_i(o,v);
}

inline void HORGAN::cb_lbv10_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 10;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv10(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv10_i(o,v);
}

inline void HORGAN::cb_lbv11_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 11;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv11(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv11_i(o,v);
}

inline void HORGAN::cb_lbv12_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 12;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv12(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv12_i(o,v);
}

inline void HORGAN::cb_lb13_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 13;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb13(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb13_i(o,v);
}

inline void HORGAN::cb_lb14_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 14;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb14(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb14_i(o,v);
}

inline void HORGAN::cb_lb15_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 15;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb15(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb15_i(o,v);
}

inline void HORGAN::cb_lb16_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 16;
hor->Rt[hor->ae].linb[pos] = (int) o->value();
}
void HORGAN::cb_lb16(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lb16_i(o,v);
}

inline void HORGAN::cb_lbv13_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 13;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv13(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv13_i(o,v);
}

inline void HORGAN::cb_lbv14_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 14;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv14(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv14_i(o,v);
}

inline void HORGAN::cb_lbv15_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 15;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv15(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv15_i(o,v);
}

inline void HORGAN::cb_lbv16_i(Fl_Value_Input* o, void*) {
  int pos;
pos = ((hor->sbars - 1) * (4 * hor->Rt[hor->ae].blackn)) + 16;
hor->Rt[hor->ae].linbv[pos] = (int) o->value();
}
void HORGAN::cb_lbv16(Fl_Value_Input* o, void* v) {
  ((HORGAN*)(o->parent()->parent()->user_data()))->cb_lbv16_i(o,v);
}

inline void HORGAN::cb_SBar_i(Fl_Counter* o, void*) {
  if (o->value() > hor->Rt[hor->ae].bars) o->value(hor->Rt[hor->ae].bars);
hor->sbars = (int) o->value();
meteval();
}
void HORGAN::cb_SBar(Fl_Counter* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_SBar_i(o,v);
}

inline void HORGAN::cb_CloRit_i(Fl_Button*, void*) {
  if((hor->Rt[hor->ae].bars < 1) || (hor->Rt[hor->ae].bars > 4))
{
fl_alert("Bars error.");
return;
}  

if((hor->Rt[hor->ae].blackn < 2) || (hor->Rt[hor->ae].blackn > 4))
{
fl_alert("Nom. error");
return;
}  
if (hor->fe == 1)
{
GetRit(hor->ae);
}
RitEdit->hide();
}
void HORGAN::cb_CloRit(Fl_Button* o, void* v) {
  ((HORGAN*)(o->parent()->user_data()))->cb_CloRit_i(o,v);
}

Fl_Double_Window* HORGAN::make_window() {
  Fl_Double_Window* w;
  { Fl_Double_Window* o = HORwindow = new Fl_Double_Window(690, 595, "Horgand v1.05");
    w = o;
    o->color(FL_LIGHT1);
    o->labelcolor((Fl_Color)208);
    o->callback((Fl_Callback*)cb_HORwindow, (void*)(this));
    w->hotspot(o);
    { Fl_Box* o = new Fl_Box(460, 405, 230, 190);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(0, 310, 310, 285);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_FOREGROUND_COLOR);
      o->align(FL_ALIGN_TOP_LEFT);
    }
    { Fl_Box* o = new Fl_Box(385, 235, 75, 100);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(385, 335, 75, 260, "Master");
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(0, 95, 105, 215);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(19);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(-60, 25, 750, 70);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_FOREGROUND_COLOR);
      o->align(FL_ALIGN_TOP_LEFT);
    }
    { Fl_Box* o = new Fl_Box(310, 310, 75, 285);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_FOREGROUND_COLOR);
      o->align(FL_ALIGN_TOP_LEFT);
    }
    { Fl_Box* o = new Fl_Box(105, 95, 65, 215);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(19);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(235, 235, 150, 75);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(385, 95, 75, 140);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(170, 95, 65, 215);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(19);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Button* o = PANICO = new Fl_Button(5, 275, 95, 30, "Panic!!");
      o->box(FL_PLASTIC_UP_BOX);
      o->shortcut(0xff0d);
      o->color((Fl_Color)1);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(1);
      o->labelsize(15);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_PANICO);
    }
    { Fl_Menu_Bar* o = MenuPrincipal = new Fl_Menu_Bar(0, 0, 1030, 25);
      o->box(FL_THIN_UP_BOX);
      o->menu(menu_MenuPrincipal);
    }
    { Fl_Box* o = new Fl_Box(180, 245, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(240, 139, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(255, 563, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color(FL_DARK1);
    }
    { Fl_Box* o = new Fl_Box(115, 244, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(5, 562, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(155, 562, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(180, 169, 46, 31);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Box* o = new Fl_Box(5, 318, 45, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(305, 115, 31, 90);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Box* o = new Fl_Box(390, 339, 66, 231);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(180, 99, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(105, 562, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(235, 95, 150, 140);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(19);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Box* o = new Fl_Box(155, 318, 46, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(105, 318, 45, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(205, 318, 46, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(55, 562, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(255, 318, 46, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(55, 318, 45, 222);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(345, 114, 30, 91);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Box* o = new Fl_Box(115, 99, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(115, 174, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(250, 210, 55, 20, "Volume");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->labelcolor((Fl_Color)208);
      o->align(FL_ALIGN_CENTER|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(325, 319, 46, 251);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(180, 204, 46, 31);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Box* o = new Fl_Box(385, 240, 75, 20, "Master Tune");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->labelcolor((Fl_Color)208);
      o->align(FL_ALIGN_CENTER|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(315, 240, 50, 15, "Delay");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->labelcolor((Fl_Color)208);
      o->align(FL_ALIGN_CENTER|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(205, 562, 47, 27);
      o->box(FL_DOWN_FRAME);
      o->color(FL_FOREGROUND_COLOR);
    }
    { Fl_Box* o = new Fl_Box(385, 275, 75, 15, "Transpose");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->labelcolor((Fl_Color)208);
      o->align(FL_ALIGN_CENTER|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(240, 139, 46, 46);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(240, 99, 46, 31);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Box* o = new Fl_Box(315, 275, 50, 15, "Volume");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->labelcolor((Fl_Color)208);
      o->align(FL_ALIGN_CENTER|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(520, 525, 46, 45);
      o->box(FL_OVAL_FRAME);
    }
    { Fl_Box* o = new Fl_Box(240, 244, 46, 31);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Light_Button* o = CF = new Fl_Light_Button(5, 235, 95, 40, "Compare First");
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labelfont(1);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CF);
      o->align(196|FL_ALIGN_INSIDE);
      o->when(FL_WHEN_CHANGED);
    }
    { Fl_Light_Button* o = CL = new Fl_Light_Button(5, 195, 95, 40, "Compare Last");
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labelfont(1);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CL);
      o->align(196|FL_ALIGN_INSIDE);
      o->when(FL_WHEN_CHANGED);
    }
    { Fl_Slider* o = VUI1 = new Fl_Slider(660, 35, 25, 50);
      o->type(2);
      o->color((Fl_Color)30);
      o->selection_color((Fl_Color)207);
      o->minimum(127);
      o->maximum(0);
      o->step(1);
      o->callback((Fl_Callback*)cb_VUI1);
      o->value(vum);
    }
    { Fl_Box* o = new Fl_Box(590, 60, 70, 20, "MIDI IN");
      o->labelsize(9);
      o->align(FL_ALIGN_CLIP);
    }
    { Fl_Box* o = DMIN1 = new Fl_Box(475, 35, 180, 25);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)40);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_DMIN1);
      o->align(68|FL_ALIGN_INSIDE);
      o->label(hor->MidiInPuerto[1].pMIDIIN);
    }
    { Fl_Box* o = DispNumber = new Fl_Box(15, 100, 75, 60, "--");
      o->box(FL_SHADOW_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color(FL_BACKGROUND2_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(14);
      o->labelsize(37);
      o->labelcolor((Fl_Color)128);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Counter* o = Transpose = new Fl_Counter(395, 285, 55, 20);
      o->type(1);
      o->labeltype(FL_EMBOSSED_LABEL);
      o->labelcolor((Fl_Color)208);
      o->minimum(-48);
      o->maximum(48);
      o->step(1);
      o->callback((Fl_Callback*)cb_Transpose);
      o->align(FL_ALIGN_LEFT);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->transpose);
    }
    { Drawbar* o = Master = new Drawbar(390, 340, 65, 230, "Volume");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)1);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->minimum(100);
      o->maximum(0);
      o->step(1);
      o->value(70);
      o->callback((Fl_Callback*)cb_Master);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->master * 100.0);
    }
    { Fl_Input* o = Nombre = new Fl_Input(5, 35, 300, 50, "  ");
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)219);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(21);
      o->labelcolor((Fl_Color)208);
      o->textsize(29);
      o->textcolor(88);
      o->callback((Fl_Callback*)cb_Nombre);
      o->align(68);
      o->value(hor->nombre);
    }
    { Fl_Counter* o = MasterT = new Fl_Counter(395, 255, 55, 20);
      o->type(1);
      o->labeltype(FL_EMBOSSED_LABEL);
      o->labelcolor((Fl_Color)208);
      o->minimum(-99);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_MasterT);
      o->align(FL_ALIGN_LEFT);
      o->value(1 - hor->mastertune * 1000);
    }
    { Drawbar* o = V1 = new Drawbar(5, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V1);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[1].volumen * 100);
    }
    { Drawbar* o = V2 = new Drawbar(55, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V2);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[2].volumen * 100);
    }
    { Drawbar* o = V3 = new Drawbar(105, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V3);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[3].volumen * 100);
    }
    { Drawbar* o = Marimba = new Drawbar(325, 320, 45, 250, "Perc.");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color((Fl_Color)5);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->minimum(4);
      o->maximum(0);
      o->step(0.01);
      o->callback((Fl_Callback*)cb_Marimba);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->attack * 100);
    }
    { Drawbar* o = V4 = new Drawbar(155, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V4);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[4].volumen * 100);
    }
    { Drawbar* o = V5 = new Drawbar(205, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V5);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[5].volumen * 100);
    }
    { Drawbar* o = V6 = new Drawbar(255, 318, 45, 222);
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color(FL_GREEN);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(14);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_V6);
      o->align(66);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->Operator[6].volumen * 100);
    }
    { Rueda* o = Detune = new Rueda(180, 245, 45, 45, "Detune");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(200);
      o->step(0.1);
      o->callback((Fl_Callback*)cb_Detune);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->detune);
    }
    { Rueda* o = LFOSpeed = new Rueda(180, 100, 45, 45, "Speed");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(40);
      o->step(0.1);
      o->callback((Fl_Callback*)cb_LFOSpeed);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->LFOspeed);
    }
    { Rueda* o = LFOPitch = new Rueda(115, 245, 45, 45, "Tremolo");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(20);
      o->step(0.01);
      o->callback((Fl_Callback*)cb_LFOPitch);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->LFOpitch);
    }
    { Rueda* o = PLFOSpeed = new Rueda(115, 100, 45, 45, "Speed");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(20);
      o->step(0.01);
      o->callback((Fl_Callback*)cb_PLFOSpeed);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->PLFOspeed);
    }
    { Rueda* o = PLFODelay = new Rueda(115, 175, 45, 45, "Delay");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_PLFODelay);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->PLFOdelay * 10);
    }
    { Fl_Counter* o = EchoVol = new Fl_Counter(310, 285, 65, 20);
      o->type(1);
      o->labelcolor((Fl_Color)208);
      o->minimum(0);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_EchoVol);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->echovol * 100);
    }
    { Fl_Counter* o = EchoDelay = new Fl_Counter(310, 250, 65, 25);
      o->type(1);
      o->labelcolor((Fl_Color)208);
      o->minimum(0);
      o->maximum(1);
      o->step(0.01);
      o->callback((Fl_Callback*)cb_EchoDelay);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->echodelay / 176400);
    }
    { Fl_Slider* o = H1 = new Fl_Slider(5, 563, 45, 25, "1");
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H1);
      o->align(FL_ALIGN_TOP);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[1].harmonic);
    }
    { Fl_Box* o = new Fl_Box(515, 464, 52, 36);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Slider* o = H2 = new Fl_Slider(55, 563, 45, 25);
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H2);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[2].harmonic);
    }
    { Fl_Slider* o = H3 = new Fl_Slider(105, 563, 45, 25);
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H3);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[3].harmonic);
    }
    { Fl_Slider* o = H4 = new Fl_Slider(155, 563, 45, 25);
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H4);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[4].harmonic);
    }
    { Fl_Slider* o = H5 = new Fl_Slider(205, 563, 45, 25);
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H5);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[5].harmonic);
    }
    { Fl_Slider* o = H6 = new Fl_Slider(255, 563, 45, 25);
      o->type(5);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor((Fl_Color)4);
      o->minimum(1);
      o->maximum(22);
      o->step(1);
      o->callback((Fl_Callback*)cb_H6);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->Operator[6].harmonic);
    }
    { Fl_Button* o = Rota = new Fl_Button(180, 170, 45, 30, "Rotary");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_Rota);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->rota);
    }
    { Rueda* o = ELFOSpeed = new Rueda(240, 140, 45, 45, "Speed");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->selection_color(FL_INACTIVE_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(5);
      o->step(0.01);
      o->callback((Fl_Callback*)cb_ELFOSpeed);
      o->align(FL_ALIGN_BOTTOM);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->ELFOspeed);
    }
    { Drawbar* o = ELFOAmplitude = new Drawbar(305, 115, 30, 90, "D");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color((Fl_Color)1);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_ELFOAmplitude);
      o->align(65);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->ELFOamplitude);
    }
    { Drawbar* o = POPO = new Drawbar(345, 115, 30, 90, "S");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(0);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_POPO);
      o->align(65);
      o->when(FL_WHEN_CHANGED);
      o->value(hor->popo);
    }
    { Fl_Counter* o = ChorVol = new Fl_Counter(310, 210, 65, 20);
      o->type(1);
      o->labelcolor((Fl_Color)208);
      o->minimum(0);
      o->maximum(99);
      o->step(1);
      o->callback((Fl_Callback*)cb_ChorVol);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->chorvol * 100);
    }
    { Fl_Button* o = Split = new Fl_Button(180, 205, 45, 30, "Split");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_Split);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->split);
    }
    { Fl_Box* o = DMIN2 = new Fl_Box(475, 60, 85, 25);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)40);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_DMIN2);
      o->align(68|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = EchoOn = new Fl_Button(240, 245, 45, 30, "Delay");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_EchoOn);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->echoon);
    }
    { Fl_Button* o = ChorusOn = new Fl_Button(240, 100, 45, 30, "Chorus");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_ChorusOn);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->choron);
    }
    { Fl_Group* o = new Fl_Group(385, 135, 75, 100);
      { Fl_Button* o = R1 = new Fl_Button(395, 135, 25, 20, "1");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R1);
        o->deactivate();
      }
      { Fl_Button* o = R2 = new Fl_Button(425, 135, 25, 20, "2");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R2);
        o->deactivate();
      }
      { Fl_Button* o = R3 = new Fl_Button(395, 160, 25, 20, "3");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R3);
        o->deactivate();
      }
      { Fl_Button* o = R4 = new Fl_Button(425, 160, 25, 20, "4");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R4);
        o->deactivate();
      }
      { Fl_Button* o = R5 = new Fl_Button(395, 185, 25, 20, "5");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R5);
        o->deactivate();
      }
      { Fl_Button* o = R6 = new Fl_Button(425, 185, 25, 20, "6");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R6);
        o->deactivate();
      }
      { Fl_Button* o = R7 = new Fl_Button(395, 210, 25, 20, "7");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R7);
        o->deactivate();
      }
      { Fl_Button* o = R8 = new Fl_Button(425, 210, 25, 20, "8");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color((Fl_Color)1);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(9);
        o->callback((Fl_Callback*)cb_R8);
        o->deactivate();
      }
      o->end();
    }
    { Fl_Box* o = new Fl_Box(390, 99, 46, 31);
      o->box(FL_DOWN_FRAME);
      o->align(FL_ALIGN_CLIP);
    }
    { Fl_Button* o = Rev = new Fl_Button(390, 100, 45, 30, "Reverb");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_Rev);
      o->align(FL_ALIGN_CLIP);
      o->value((int) hor->revon);
    }
    { Fl_Slider* o = RitVol = new Fl_Slider(470, 415, 40, 155, "Volume");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->minimum(0.99);
      o->maximum(0);
      o->step(0.01);
      o->value(0.5);
      o->callback((Fl_Callback*)cb_RitVol);
      o->value(hor->ritvol);
    }
    { Fl_Dial* o = Tempo = new Fl_Dial(520, 525, 45, 45, "Tempo");
      o->box(FL_OSHADOW_BOX);
      o->color(FL_DARK1);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->minimum(1.7);
      o->maximum(2.7);
      o->step(0.01);
      o->value(2);
      o->callback((Fl_Callback*)cb_Tempo);
      o->deactivate();
      o->value(hor->tempo);
    }
    { Fl_Slider* o = VUI2 = new Fl_Slider(515, 510, 15, 15);
      o->type(2);
      o->color((Fl_Color)30);
      o->selection_color((Fl_Color)1);
      o->minimum(127);
      o->maximum(0);
      o->step(1);
      o->callback((Fl_Callback*)cb_VUI2);
      o->value(tum);
    }
    { Fl_Button* o = RitOn = new Fl_Button(515, 465, 50, 35, "Stop/Cont");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(8);
      o->callback((Fl_Callback*)cb_RitOn);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->riton);
    }
    { Fl_Box* o = new Fl_Box(515, 424, 51, 36);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Button* o = StStRiton = new Fl_Button(515, 425, 50, 35, "Start/Stop");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(8);
      o->callback((Fl_Callback*)cb_StStRiton);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->riton);
    }
    { Fl_Box* o = new Fl_Box(460, 95, 230, 310);
      o->box(FL_PLASTIC_UP_BOX);
      o->color(FL_FOREGROUND_COLOR);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(17);
      o->labelcolor((Fl_Color)4);
      o->align(FL_ALIGN_TOP);
    }
    { Fl_Group* o = new Fl_Group(460, 95, 230, 310);
      { Fl_Button* o = Rit4 = new Fl_Button(470, 195, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit4);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit1 = new Fl_Button(470, 105, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit1);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit2 = new Fl_Button(470, 135, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit2);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit3 = new Fl_Button(470, 165, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit3);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit5 = new Fl_Button(470, 225, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit5);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit6 = new Fl_Button(470, 255, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit6);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit7 = new Fl_Button(470, 285, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit7);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit8 = new Fl_Button(470, 315, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit8);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit9 = new Fl_Button(470, 345, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit9);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit10 = new Fl_Button(470, 375, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit10);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit11 = new Fl_Button(585, 105, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit11);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit12 = new Fl_Button(585, 135, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit12);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit13 = new Fl_Button(585, 165, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit13);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit14 = new Fl_Button(585, 195, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit14);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit15 = new Fl_Button(585, 226, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit15);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit16 = new Fl_Button(585, 255, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit16);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit17 = new Fl_Button(585, 285, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit17);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit18 = new Fl_Button(585, 315, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit18);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit19 = new Fl_Button(585, 345, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit19);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Rit20 = new Fl_Button(585, 375, 95, 25);
        o->tooltip("Right Click Edit -  Left Click Select");
        o->type(1);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Rit20);
        o->align(FL_ALIGN_CLIP);
      }
      o->end();
    }
    { Fl_Slider* o = BassVol = new Fl_Slider(575, 415, 40, 155, "Volume");
      o->type(4);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)24);
      o->selection_color((Fl_Color)3);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->labelcolor((Fl_Color)4);
      o->minimum(0.99);
      o->maximum(0);
      o->step(0.01);
      o->value(0.5);
      o->callback((Fl_Callback*)cb_BassVol);
      o->value(hor->bassvol);
    }
    { Fl_Box* o = new Fl_Box(630, 424, 51, 36);
      o->box(FL_DOWN_FRAME);
    }
    { Fl_Button* o = Basson = new Fl_Button(630, 425, 50, 35, "Bass");
      o->type(1);
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)31);
      o->selection_color((Fl_Color)135);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(10);
      o->callback((Fl_Callback*)cb_Basson);
      o->align(FL_ALIGN_CLIP);
      o->value(hor->basson);
    }
    { Fl_Group* o = new Fl_Group(625, 465, 60, 95);
      o->end();
    }
    { Fl_Group* o = new Fl_Group(620, 470, 70, 85);
      { Fl_Button* o = Bass1 = new Fl_Button(620, 470, 65, 25, "Acoustic");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Bass1);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Bass2 = new Fl_Button(620, 500, 65, 25, "Electric");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Bass2);
        o->align(FL_ALIGN_CLIP);
      }
      { Fl_Button* o = Bass3 = new Fl_Button(620, 530, 65, 25, "Fretless");
        o->type(102);
        o->box(FL_PLASTIC_UP_BOX);
        o->color((Fl_Color)31);
        o->selection_color(FL_GREEN);
        o->labeltype(FL_ENGRAVED_LABEL);
        o->labelsize(12);
        o->labelcolor(FL_FOREGROUND_COLOR);
        o->callback((Fl_Callback*)cb_Bass3);
        o->align(FL_ALIGN_CLIP);
      }
      o->end();
    }
    { Fl_Box* o = ACI = new Fl_Box(315, 35, 155, 50);
      o->box(FL_PLASTIC_DOWN_BOX);
      o->color((Fl_Color)219);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelfont(1);
      o->labelsize(22);
      o->labelcolor(FL_FOREGROUND_COLOR);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV1 = new Fl_Value_Output(5, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->labelfont(1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV2 = new Fl_Value_Output(55, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV3 = new Fl_Value_Output(105, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV4 = new Fl_Value_Output(155, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV5 = new Fl_Value_Output(205, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Value_Output* o = NV6 = new Fl_Value_Output(255, 543, 45, 20);
      o->color(FL_DARK1);
      o->selection_color((Fl_Color)1);
      o->maximum(16);
      o->step(0.5);
      o->textfont(1);
      o->textcolor(4);
      o->align(72|FL_ALIGN_INSIDE);
    }
    { Fl_Counter* o = CPrograma = new Fl_Counter(15, 165, 75, 25);
      o->type(1);
      o->labeltype(FL_EMBOSSED_LABEL);
      o->labelcolor((Fl_Color)208);
      o->minimum(-48);
      o->maximum(48);
      o->step(1);
      o->callback((Fl_Callback*)cb_CPrograma);
      o->align(FL_ALIGN_LEFT);
      o->when(FL_WHEN_RELEASE);
      o->value(hor->cprograma);
    }
    o->end();
    o->resizable(o);
  }
  { Fl_Double_Window* o = aboutwindow = new Fl_Double_Window(380, 300, "About...");
    w = o;
    o->user_data((void*)(this));
    { Fl_Box* o = new Fl_Box(35, 5, 260, 40, "Horgand");
      o->labelfont(1);
      o->labelsize(24);
      o->align(FL_ALIGN_CLIP);
    }
    { Fl_Box* o = new Fl_Box(10, 45, 345, 70, "Copyright (C) 2003-2004 by Josep Andreu\n     (Holborn) \n      holborn@@tele\
fonica.net ");
      o->labelfont(1);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 115, 340, 130, "This is free software. you may redistribute and/or modify it under the terms \
of the version 2 of the GNU General Public License as published by the Free So\
ftware Fundation.\n This program comes with \n ABSOLUTE NO WARRANTY. \n See th\
e version 2 of the \n GNU General Public License for details.");
      o->labelfont(1);
      o->labelsize(11);
      o->align(194|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = new Fl_Button(140, 250, 70, 40, "OK");
      o->shortcut(0xff0d);
      o->callback((Fl_Callback*)cb_OK);
    }
    o->end();
  }
  { Fl_Double_Window* o = Settingswindow = new Fl_Double_Window(495, 265, "Settings");
    w = o;
    o->user_data((void*)(this));
    new Fl_Box(5, 0, 151, 30, "Midi Input to:");
    { Fl_Button* o = SClose = new Fl_Button(350, 165, 120, 30, "Close");
      o->shortcut(0xff0d);
      o->callback((Fl_Callback*)cb_SClose);
    }
    { Fl_Button* o = new Fl_Button(350, 125, 120, 30, "Save");
      o->callback((Fl_Callback*)cb_Save2);
    }
    { Fl_Browser* o = BMidiIn = new Fl_Browser(5, 25, 295, 185);
      o->type(2);
      o->selection_color(FL_FOREGROUND_COLOR);
      o->callback((Fl_Callback*)cb_BMidiIn);
    }
    { Fl_Group* o = new Fl_Group(315, 25, 155, 95, "Audio Output");
      o->box(FL_DOWN_BOX);
      o->color((Fl_Color)25);
      { Fl_Check_Button* o = OSS = new Fl_Check_Button(340, 30, 100, 25, " OSS");
        o->type(102);
        o->down_box(FL_DOWN_BOX);
        o->align(68|FL_ALIGN_INSIDE);
      }
      { Fl_Check_Button* o = Alsa = new Fl_Check_Button(340, 60, 100, 25, " Alsa");
        o->type(102);
        o->down_box(FL_DOWN_BOX);
        o->align(68|FL_ALIGN_INSIDE);
      }
      { Fl_Check_Button* o = Jack = new Fl_Check_Button(340, 90, 100, 25, " Jack");
        o->type(102);
        o->down_box(FL_DOWN_BOX);
        o->align(68|FL_ALIGN_INSIDE);
      }
      o->end();
    }
    { Fl_File_Input* o = BFiname = new Fl_File_Input(0, 230, 390, 30, "  Bank Filename");
      o->labelsize(12);
      o->align(FL_ALIGN_TOP_LEFT);
    }
    { Fl_Button* o = new Fl_Button(405, 230, 65, 30, "Browse");
      o->callback((Fl_Callback*)cb_Browse);
    }
    o->end();
  }
  { Fl_Double_Window* o = HORBank = new Fl_Double_Window(710, 360, "DXEmulator Bank");
    w = o;
    o->tooltip("Right Click Get  - Left Click Put");
    o->user_data((void*)(this));
    { Fl_Button* o = BClose = new Fl_Button(275, 310, 145, 40, "Close");
      o->box(FL_PLASTIC_UP_BOX);
      o->shortcut(0xff0d);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->callback((Fl_Callback*)cb_BClose);
    }
    { Fl_Menu_Bar* o = new Fl_Menu_Bar(0, 0, 760, 30);
      o->menu(menu_);
    }
    { Fl_Button* o = Banco1 = new Fl_Button(30, 60, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco1);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 60, 30, 25, "1");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco2 = new Fl_Button(205, 60, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco2);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 60, 30, 25, "2");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco3 = new Fl_Button(380, 60, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco3);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 60, 30, 25, "3");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco4 = new Fl_Button(555, 60, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco4);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 60, 30, 25, "4");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco5 = new Fl_Button(30, 90, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco5);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco6 = new Fl_Button(205, 90, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco6);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 90, 30, 25, "6");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco7 = new Fl_Button(380, 90, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco7);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 90, 30, 25, "17");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco8 = new Fl_Button(555, 90, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco8);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 90, 30, 25, "8");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco9 = new Fl_Button(30, 120, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco9);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco10 = new Fl_Button(205, 120, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco10);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 120, 30, 25, "10");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco11 = new Fl_Button(380, 120, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco11);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 120, 30, 25, "11");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco12 = new Fl_Button(555, 120, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco12);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 120, 30, 25, "12");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco13 = new Fl_Button(30, 150, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco13);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco14 = new Fl_Button(205, 150, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco14);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 150, 30, 25, "14");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco15 = new Fl_Button(380, 150, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco15);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 150, 30, 25, "15");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco16 = new Fl_Button(555, 150, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco16);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 150, 30, 25, "16");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco17 = new Fl_Button(30, 180, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco17);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco18 = new Fl_Button(205, 180, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco18);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 180, 30, 25, "18");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco19 = new Fl_Button(380, 180, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco19);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 180, 30, 25, "19");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco20 = new Fl_Button(555, 180, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco20);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 180, 30, 25, "20");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 90, 30, 25, "5");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 120, 30, 25, "9");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 150, 30, 25, "13");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 180, 30, 25, "17");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco21 = new Fl_Button(30, 210, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco21);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 210, 30, 25, "21");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco22 = new Fl_Button(205, 210, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco22);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 210, 30, 25, "22");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco23 = new Fl_Button(380, 210, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco23);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 210, 30, 25, "23");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco24 = new Fl_Button(555, 210, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco24);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 210, 30, 25, "24");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco25 = new Fl_Button(30, 240, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco25);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 240, 30, 25, "25");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco26 = new Fl_Button(205, 240, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco26);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 240, 30, 25, "26");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco27 = new Fl_Button(380, 240, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco27);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 240, 30, 25, "27");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco28 = new Fl_Button(555, 240, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco28);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 240, 30, 25, "28");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco29 = new Fl_Button(30, 270, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco29);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(0, 270, 30, 25, "29");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco30 = new Fl_Button(205, 270, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco30);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(175, 270, 30, 25, "30");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco31 = new Fl_Button(380, 270, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco31);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(350, 270, 30, 25, "31");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Button* o = Banco32 = new Fl_Button(555, 270, 145, 25);
      o->tooltip("Right Click Get -  Left Click Put");
      o->box(FL_PLASTIC_UP_BOX);
      o->color((Fl_Color)6);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelsize(12);
      o->callback((Fl_Callback*)cb_Banco32);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(525, 270, 30, 25, "32");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE);
    }
    o->end();
  }
  { Fl_Double_Window* o = RitEdit = new Fl_Double_Window(615, 175);
    w = o;
    o->callback((Fl_Callback*)cb_RitEdit, (void*)(this));
    { Fl_Input* o = RtName = new Fl_Input(60, 20, 115, 25, "Name");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->callback((Fl_Callback*)cb_RtName);
    }
    { Fl_Input* o = RtFile = new Fl_Input(215, 20, 215, 25, "File");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->callback((Fl_Callback*)cb_RtFile);
    }
    { Fl_Value_Input* o = RtBars = new Fl_Value_Input(480, 20, 20, 25, "Bars");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->minimum(1);
      o->maximum(4);
      o->step(1);
      o->value(1);
      o->callback((Fl_Callback*)cb_RtBars);
    }
    { Fl_Value_Input* o = RtDen = new Fl_Value_Input(545, 20, 20, 25, "Nom.");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->minimum(2);
      o->maximum(4);
      o->step(1);
      o->value(4);
      o->callback((Fl_Callback*)cb_RtDen);
    }
    { Fl_Group* o = B1G1 = new Fl_Group(40, 115, 140, 60);
      { Fl_Value_Input* o = lb1 = new Fl_Value_Input(50, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb1);
      }
      { Fl_Value_Input* o = lb2 = new Fl_Value_Input(80, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb2);
      }
      { Fl_Value_Input* o = lb3 = new Fl_Value_Input(110, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb3);
      }
      { Fl_Value_Input* o = lb4 = new Fl_Value_Input(140, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb4);
      }
      { Fl_Value_Input* o = lbv1 = new Fl_Value_Input(50, 145, 25, 20);
        o->maximum(88);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv1);
      }
      { Fl_Value_Input* o = lbv2 = new Fl_Value_Input(80, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv2);
      }
      { Fl_Value_Input* o = lbv3 = new Fl_Value_Input(110, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv3);
      }
      { Fl_Value_Input* o = lbv4 = new Fl_Value_Input(140, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv4);
      }
      o->end();
    }
    { Fl_Group* o = B1G2 = new Fl_Group(180, 115, 140, 60);
      { Fl_Value_Input* o = lb5 = new Fl_Value_Input(190, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb5);
      }
      { Fl_Value_Input* o = lb6 = new Fl_Value_Input(220, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb6);
      }
      { Fl_Value_Input* o = lb7 = new Fl_Value_Input(250, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb7);
      }
      { Fl_Value_Input* o = lb8 = new Fl_Value_Input(280, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb8);
      }
      { Fl_Value_Input* o = lbv5 = new Fl_Value_Input(190, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv5);
      }
      { Fl_Value_Input* o = lbv6 = new Fl_Value_Input(220, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv6);
      }
      { Fl_Value_Input* o = lbv7 = new Fl_Value_Input(250, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv7);
      }
      { Fl_Value_Input* o = lbv8 = new Fl_Value_Input(280, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv8);
      }
      o->end();
    }
    { Fl_Group* o = B1G3 = new Fl_Group(325, 115, 140, 60);
      { Fl_Value_Input* o = lb9 = new Fl_Value_Input(335, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb9);
      }
      { Fl_Value_Input* o = lb10 = new Fl_Value_Input(365, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb10);
      }
      { Fl_Value_Input* o = lb11 = new Fl_Value_Input(395, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb11);
      }
      { Fl_Value_Input* o = lb12 = new Fl_Value_Input(425, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb12);
      }
      { Fl_Value_Input* o = lbv9 = new Fl_Value_Input(335, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv9);
      }
      { Fl_Value_Input* o = lbv10 = new Fl_Value_Input(365, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv10);
      }
      { Fl_Value_Input* o = lbv11 = new Fl_Value_Input(395, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv11);
      }
      { Fl_Value_Input* o = lbv12 = new Fl_Value_Input(425, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv12);
      }
      o->end();
    }
    { Fl_Group* o = B1G4 = new Fl_Group(470, 115, 140, 60);
      { Fl_Value_Input* o = lb13 = new Fl_Value_Input(480, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb13);
      }
      { Fl_Value_Input* o = lb14 = new Fl_Value_Input(510, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb14);
      }
      { Fl_Value_Input* o = lb15 = new Fl_Value_Input(540, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb15);
      }
      { Fl_Value_Input* o = lb16 = new Fl_Value_Input(570, 120, 25, 20);
        o->maximum(12);
        o->step(1);
        o->callback((Fl_Callback*)cb_lb16);
      }
      { Fl_Value_Input* o = lbv13 = new Fl_Value_Input(480, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv13);
      }
      { Fl_Value_Input* o = lbv14 = new Fl_Value_Input(510, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv14);
      }
      { Fl_Value_Input* o = lbv15 = new Fl_Value_Input(540, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv15);
      }
      { Fl_Value_Input* o = lbv16 = new Fl_Value_Input(570, 145, 25, 20);
        o->maximum(99);
        o->step(1);
        o->callback((Fl_Callback*)cb_lbv16);
      }
      o->end();
    }
    { Fl_Counter* o = SBar = new Fl_Counter(45, 70, 65, 25, "Bar ");
      o->type(1);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->minimum(1);
      o->maximum(4);
      o->step(1);
      o->value(1);
      o->callback((Fl_Callback*)cb_SBar);
      o->align(FL_ALIGN_LEFT);
      o->value(hor->sbars);
    }
    { Fl_Button* o = CloRit = new Fl_Button(155, 70, 80, 25, "Ok");
      o->shortcut(0xff0d);
      o->labeltype(FL_ENGRAVED_LABEL);
      o->callback((Fl_Callback*)cb_CloRit);
    }
    { Fl_Box* o = new Fl_Box(5, 120, 40, 25, "Note");
      o->labeltype(FL_ENGRAVED_LABEL);
    }
    { Fl_Box* o = new Fl_Box(5, 140, 40, 25, "Vol.");
      o->labeltype(FL_ENGRAVED_LABEL);
    }
    { Fl_Box* o = new Fl_Box(390, 50, 215, 65);
      o->box(FL_DOWN_BOX);
    }
    { Fl_Box* o = new Fl_Box(395, 50, 45, 25, "1=1   ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(395, 70, 45, 25, "2=2m ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(395, 90, 45, 25, "3=2M  ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(445, 50, 45, 25, "4=3m ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(445, 70, 45, 25, "5=3M ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(445, 90, 45, 25, "6=4J  ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(500, 50, 45, 25, "7=4#   ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(500, 70, 45, 25, "8=5J ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(500, 90, 45, 25, "9=6m");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(550, 50, 45, 25, "10=6M");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(550, 70, 45, 25, "11=7m ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(550, 90, 45, 25, "12=7M   ");
      o->labeltype(FL_ENGRAVED_LABEL);
      o->labelcolor(FL_RED);
      o->align(FL_ALIGN_LEFT|FL_ALIGN_INSIDE);
    }
    { Fl_Box* o = new Fl_Box(325, 65, 50, 25, "Notes:");
      o->labeltype(FL_ENGRAVED_LABEL);
    }
    o->end();
  }
  return w;
}

void HORGAN::metelo() {
  meteprog();

switch (hor->Salida)
{
 case 1:
        DMIN2->label("OSS");
        break;
 case 2:
        DMIN2->label("Alsa");
        break;
 case 3:
        DMIN2->label("Jack");
        break;
}


Rit1->value(1);
Rit = 1;
GetRit(Rit);
}

void HORGAN::GetCombi(int i) {
  int k;
for (k=1; k<=6; k++)
{
hor->Banco[i].Operator[k].volumen=hor->Operator[k].volumen;
hor->Banco[i].Operator[k].harmonic_fine=hor->Operator[k].harmonic_fine;
hor->Banco[i].Operator[k].harmonic=hor->Operator[k].harmonic;
}


hor->Banco[i].echoon=hor->echoon;
hor->Banco[i].echodelay=hor->echodelay;
hor->Banco[i].echovol=hor->echovol;
hor->Banco[i].PLFOspeed=hor->PLFOspeed;
hor->Banco[i].PLFOdelay=hor->PLFOdelay;
hor->Banco[i].LFOspeed=hor->LFOspeed;
hor->Banco[i].LFOpitch=hor->LFOpitch;
hor->Banco[i].rota=hor->rota;
hor->Banco[i].modulation=hor->modulation;
hor->Banco[i].transpose=hor->transpose;
hor->Banco[i].master=hor->master;

for (k=0; k<=24; k++) hor->Banco[i].Name[k]=hor->Name[k];
hor->Banco[i].attack=hor->attack;
hor->Banco[i].detune=hor->detune;
hor->Banco[i].revon=hor->revon;
hor->Banco[i].split=hor->split;
hor->Banco[i].ganmod =hor->ganmod;
hor->Banco[i].choron=hor->choron;
hor->Banco[i].ELFOamplitude=hor->ELFOamplitude;
hor->Banco[i].popo=hor->popo;
hor->Banco[i].ELFOspeed=hor->ELFOspeed;
hor->Banco[i].chorvol=hor->chorvol;
}

void HORGAN::PutCombi(int i) {
  int k;
hor->cprograma= i;

for (k=1; k<=6; k++)
{
hor->Operator[k].volumen =hor->Banco[i].Operator[k].volumen;
hor->Operator[k].harmonic_fine =hor->Banco[i].Operator[k].harmonic_fine;
hor->Operator[k].harmonic =hor->Banco[i].Operator[k].harmonic;
}



hor->echoon = hor->Banco[i].echoon;
hor->echovol = hor->Banco[i].echovol;
hor->echodelay = hor->Banco[i].echodelay;
hor->PLFOspeed = hor->Banco[i].PLFOspeed;
hor->PLFOdelay = hor->Banco[i].PLFOdelay;
hor->LFOspeed = hor->Banco[i].LFOspeed;
hor->LFOpitch = hor->Banco[i].LFOpitch;
hor->rota = hor->Banco[i].rota;
hor->modulation = hor->Banco[i].modulation;
hor->transpose = hor->Banco[i].transpose;
hor->master = hor->Banco[i].master;
bzero(hor->Name, sizeof(hor->Name));
for (k=0; k<=24; k++) hor->Name[k]=hor->Banco[i].Name[k];
hor->nombre = hor->Name;
hor->revon = hor->Banco[i].revon;
hor->attack = hor->Banco[i].attack;
hor->detune = hor->Banco[i].detune;
hor->split=hor->Banco[i].split;
hor->ganmod=hor->Banco[i].ganmod;
hor->choron=hor->Banco[i].choron;
hor->ELFOamplitude=hor->Banco[i].ELFOamplitude;
hor->popo=hor->Banco[i].popo;
hor->ELFOspeed=hor->Banco[i].ELFOspeed;
hor->chorvol=hor->Banco[i].chorvol;

hor->Prim[1] = hor->Banco[i];
meteprog();
Actu();
sprintf(hor->temporal, "%02d",i);
DispNumber->label(hor->temporal);
CPrograma->value(i);
}

void HORGAN::MiraClientes() {
  snd_seq_client_info_t *cinfo;
        snd_seq_port_info_t *pinfo;
        int  client;
        int  err;
        int i;
        snd_seq_t *handle;
        int count = 1;
        int count1 = 1;
        char temp[80];
        char linea[256];
        BMidiIn->clear();
        BMidiIn->add("Not Connected");
        err = snd_seq_open(&handle, "hw", SND_SEQ_OPEN_DUPLEX, 0);
        if (err < 0) printf("Could not open sequencer");

        snd_seq_client_info_alloca(&cinfo);
        snd_seq_client_info_set_client(cinfo, -1);

        while (snd_seq_query_next_client(handle, cinfo) >= 0) {
                client = snd_seq_client_info_get_client(cinfo);
                snd_seq_port_info_alloca(&pinfo);
                snd_seq_port_info_set_client(pinfo, client);

                snd_seq_port_info_set_port(pinfo, -1);
                while (snd_seq_query_next_port(handle, pinfo) >= 0) {
                        unsigned int  cap;

                        cap = (SND_SEQ_PORT_CAP_SUBS_WRITE|SND_SEQ_PORT_CAP_WRITE);
                        if ((snd_seq_port_info_get_capability(pinfo) & cap) == cap) {

                           hor->CPOMidiS[count].Client = snd_seq_port_info_get_client(pinfo);
                           hor->CPOMidiS[count].Port = snd_seq_port_info_get_port(pinfo);
                           hor->CPOMidiS[count].CName = snd_seq_client_info_get_name(cinfo);
      for (i=0; i<=(int)(strlen(hor->CPOMidiS[count].CName));i++) hor->CPOMidiS[count].Nombre[i]=hor->CPOMidiS[count].CName[i];
                           hor->CPOMidiS[count].CInfo = snd_seq_port_info_get_name(pinfo);
      for (i=0; i<=(int)(strlen(hor->CPOMidiS[count].CInfo));i++) hor->CPOMidiS[count].Info[i]=hor->CPOMidiS[count].CInfo[i];
                           
                    count++;
                                             }


                        cap = (SND_SEQ_PORT_CAP_SUBS_READ|SND_SEQ_PORT_CAP_READ);
                        if ((snd_seq_port_info_get_capability(pinfo) & cap) == cap) {

                           hor->CPIMidiS[count1].Client = snd_seq_port_info_get_client(pinfo);
                           hor->CPIMidiS[count1].Port = snd_seq_port_info_get_port(pinfo);
                           hor->CPIMidiS[count1].CName = snd_seq_client_info_get_name(cinfo);
     for (i=0; i<=(int)(strlen(hor->CPIMidiS[count1].CName));i++) hor->CPIMidiS[count1].Nombre[i]=hor->CPIMidiS[count1].CName[i];
                           hor->CPIMidiS[count1].CInfo = snd_seq_port_info_get_name(pinfo);
     for (i=0; i<=(int)(strlen(hor->CPIMidiS[count1].CInfo));i++) hor->CPIMidiS[count1].Info[i]=hor->CPIMidiS[count1].CInfo[i];
                           bzero(linea,sizeof(linea));
                           sprintf(linea,"%s",hor->CPIMidiS[count1].CInfo);
                           bzero(temp,sizeof(temp));
                           sscanf(linea,"%s",temp);
                           if (strcmp(temp,"Horgand")!=0) BMidiIn->add(linea);
                           count1++;

                                       }

                }
      }
}

void HORGAN::MiraConfig() {
  int i = 1;

while (BMidiIn->text(i) != NULL)
{
if (strcmp(BMidiIn->text(i),hor->MidiInPuerto[1].SetMidiIn)==0 ) BMidiIn->select(i,1);
i++; 
}

switch (hor->Salida)
{
      case 1: 
             OSS->setonly();
             break;
      case 2: 
             Alsa->setonly();
             break;
      case 3:
             Jack->setonly();
             break;
      
}

BFiname->value(hor->BankFilename);
}

void HORGAN::GrabaSettings() {
  FILE *fn;
char *temp;
int i;
char nomfile[256];
sprintf(nomfile,"%s%s",getenv("HOME"),"/.Horgand");
fn = fopen(nomfile,"w");
i = BMidiIn->value();
temp = (char*) BMidiIn->text(i);
if (temp == NULL ) temp= strdup("Not Connected");
fputs(temp,fn);
fputs("\n",fn);
bzero(temp,sizeof(temp));
temp = strdup("OSS");
if (OSS->value() != 0) temp = strdup("OSS");
if (Alsa->value() != 0) temp = strdup("Alsa");
if (Jack->value() != 0) temp =strdup("Jack");
fputs(temp,fn);
fputs("\n",fn);
bzero(temp,sizeof(temp));
temp=hor->BankFilename;
fputs(temp,fn);
fputs("\n",fn);
fclose(fn);
}

void HORGAN::metebanco() {
  Banco1->label(hor->Banco[1].Name);
Banco2->label(hor->Banco[2].Name);
Banco3->label(hor->Banco[3].Name);
Banco4->label(hor->Banco[4].Name);
Banco5->label(hor->Banco[5].Name);
Banco6->label(hor->Banco[6].Name);
Banco7->label(hor->Banco[7].Name);
Banco8->label(hor->Banco[8].Name);
Banco9->label(hor->Banco[9].Name);
Banco10->label(hor->Banco[10].Name);
Banco11->label(hor->Banco[11].Name);
Banco12->label(hor->Banco[12].Name);
Banco13->label(hor->Banco[13].Name);
Banco14->label(hor->Banco[14].Name);
Banco15->label(hor->Banco[15].Name);
Banco16->label(hor->Banco[16].Name);
Banco17->label(hor->Banco[17].Name);
Banco18->label(hor->Banco[18].Name);
Banco19->label(hor->Banco[19].Name);
Banco20->label(hor->Banco[20].Name);
Banco21->label(hor->Banco[21].Name);
Banco22->label(hor->Banco[22].Name);
Banco23->label(hor->Banco[23].Name);
Banco24->label(hor->Banco[24].Name);
Banco25->label(hor->Banco[25].Name);
Banco26->label(hor->Banco[26].Name);
Banco27->label(hor->Banco[27].Name);
Banco28->label(hor->Banco[28].Name);
Banco29->label(hor->Banco[29].Name);
Banco30->label(hor->Banco[30].Name);
Banco31->label(hor->Banco[31].Name);
Banco32->label(hor->Banco[32].Name);
}

HORGAN::HORGAN(HOR *hor_) {
  Fl::visual(FL_DOUBLE|FL_INDEX);
Fl::visual(FL_RGB);
hor=hor_;
make_window();
HORwindow->position(1,1);
Fl::focus(PANICO);
MiraClientes();
Conecta();
metebanco();
metelo();
if(commandline == 0) PutCombi(1);
Actu();
PutPrim();
meteritmos();
HORwindow->show();
Fl::add_timeout(1.0/100,tick);
}

void HORGAN::Conecta() {
  char  t1[40], t2[40];
const char *tt1, *tt2;
int client=0;
char linea[256];


        int queue = 0, convert_time = 0, convert_real = 0, exclusive = 0;
        snd_seq_port_subscribe_t *subs;
        snd_seq_addr_t sender, dest;







while ( espera == 0 ) usleep(1);

int k= 0,i=0;

for (k=1; k<=46; k++)
    {

    sprintf(linea,"Horgand IN");

if (!strcmp(hor->CPOMidiS[k].Info ,linea)) hor->MidiInPuerto[1].YOIN = hor->CPOMidiS[k].Client;
if (!strcmp(hor->CPIMidiS[k].Info ,hor->MidiInPuerto[1].SetMidiIn)) hor->MidiInPuerto[1].SettingsIN = hor->CPIMidiS[k].Client;


    }






if (strcmp(hor->MidiInPuerto[1].SetMidiIn,"Not Connected") !=0 )
{

  sprintf(t1,"%d",hor->MidiInPuerto[1].YOIN); tt1 = t1;
  sprintf(t2,"%d",hor->MidiInPuerto[1].SettingsIN);tt2 = t2;

 if ((client = snd_seq_client_id(hor->MidiInPuerto[1].midi_in)) < 0) printf("can't get client id\n");
 if (snd_seq_parse_address(hor->MidiInPuerto[1].midi_in, &sender,tt2) < 0) printf("invalid sender address %s\n", (char*) hor->MidiInPuerto[1].SettingsIN);
 if (snd_seq_parse_address(hor->MidiInPuerto[1].midi_in, &dest,tt1) < 0) printf("invalid destination address %s\n", (char*) hor->MidiInPuerto[1].YOIN);

        snd_seq_port_subscribe_alloca(&subs);
        snd_seq_port_subscribe_set_sender(subs, &sender);
        snd_seq_port_subscribe_set_dest(subs, &dest);
        snd_seq_port_subscribe_set_queue(subs, queue);
        snd_seq_port_subscribe_set_exclusive(subs, exclusive);
        snd_seq_port_subscribe_set_time_update(subs, convert_time);
        snd_seq_port_subscribe_set_time_real(subs, convert_real);

 if (snd_seq_get_port_subscription(hor->MidiInPuerto[1].midi_in, subs) == 0) printf("Connection is already subscribed\n");
 if (snd_seq_subscribe_port(hor->MidiInPuerto[1].midi_in, subs) < 0)
                                          {
                                          printf("Connection failed (%s)\n", snd_strerror(errno));
                                          DMIN1->label("Connection failed");
                                          }
                                           else
                                          {
                                           bzero(linea,sizeof(linea));
                                           sprintf(linea ,"%d %s",hor->MidiInPuerto[1].SettingsIN,hor->MidiInPuerto[1].SetMidiIn);
                                           for (i=0; i<=(int) strlen(linea);i++) hor->MidiInPuerto[1].pMIDIIN[i] = linea[i];

                                          }


}
else sprintf(hor->MidiInPuerto[1].pMIDIIN,"Not Conected");
}

void HORGAN::Undo() {
  UndoCount = UndoCount -1;
if (UndoCount == -1) UndoCount = 95;
int k;
for (k=1; k<=6; k++)
{
hor->Operator[k].volumen =hor->Undo[UndoCount].Operator[k].volumen;
hor->Operator[k].harmonic_fine =hor->Undo[UndoCount].Operator[k].harmonic_fine;
hor->Operator[k].harmonic =hor->Undo[UndoCount].Operator[k].harmonic;
}



hor->echoon = hor->Undo[UndoCount].echoon;
hor->echovol = hor->Undo[UndoCount].echovol;
hor->echodelay = hor->Undo[UndoCount].echodelay;
hor->PLFOspeed = hor->Undo[UndoCount].PLFOspeed;
hor->PLFOdelay = hor->Undo[UndoCount].PLFOdelay;
hor->LFOspeed = hor->Undo[UndoCount].LFOspeed;
hor->LFOpitch = hor->Undo[UndoCount].LFOpitch;
hor->rota = hor->Undo[UndoCount].rota;
hor->modulation = hor->Undo[UndoCount].modulation;
hor->transpose = hor->Undo[UndoCount].transpose;
hor->master = hor->Undo[UndoCount].master;

for (k=0; k<=24; k++) hor->Name[k]=hor->Undo[UndoCount].Name[k];
hor->nombre = hor->Name;

hor->revon=hor->Undo[UndoCount].revon;
hor->attack= hor->Undo[UndoCount].attack;
hor->detune = hor->Undo[UndoCount].detune;
hor->split=hor->Undo[UndoCount].split;
hor->ganmod=hor->Undo[UndoCount].ganmod;
hor->choron=hor->Undo[UndoCount].choron;
hor->ELFOamplitude=hor->Undo[UndoCount].ELFOamplitude;
hor->popo=hor->Undo[UndoCount].popo;
hor->ELFOspeed=hor->Undo[UndoCount].ELFOspeed;
hor->chorvol=hor->Undo[UndoCount].chorvol;




metelo();
}

void HORGAN::Actu() {
  if ( (CL->value() != 0 ) || (CF->value() !=0 ) ) {
           fl_alert("In Compare mode changes are deprecated");
           return;
           }

UndoCount++;
if (UndoCount == 95) UndoCount = 0;
int k;
for (k=1; k<=6; k++)
{
hor->Undo[UndoCount].Operator[k].volumen=hor->Operator[k].volumen;
hor->Undo[UndoCount].Operator[k].harmonic_fine=hor->Operator[k].harmonic_fine;
hor->Undo[UndoCount].Operator[k].harmonic=hor->Operator[k].harmonic;
}


hor->Undo[UndoCount].echoon=hor->echoon;
hor->Undo[UndoCount].echovol=hor->echovol;
hor->Undo[UndoCount].echodelay=hor->echodelay;
hor->Undo[UndoCount].PLFOspeed=hor->PLFOspeed;
hor->Undo[UndoCount].PLFOdelay=hor->PLFOdelay;
hor->Undo[UndoCount].LFOspeed=hor->LFOspeed;
hor->Undo[UndoCount].LFOpitch=hor->LFOpitch;
hor->Undo[UndoCount].rota=hor->rota;
hor->Undo[UndoCount].modulation=hor->modulation;
hor->Undo[UndoCount].transpose=hor->transpose;
hor->Undo[UndoCount].master=hor->master;

for (k=0; k<=24; k++) hor->Undo[UndoCount].Name[k]=hor->Name[k];
hor->nombre = hor->Name;
hor->Undo[UndoCount].attack=hor->attack;
hor->Undo[UndoCount].detune=hor->detune;
hor->Undo[UndoCount].revon=hor->revon;
hor->Undo[UndoCount].split=hor->split;
hor->Undo[UndoCount].ganmod =hor->ganmod;
hor->Undo[UndoCount].choron=hor->choron;
hor->Undo[UndoCount].ELFOamplitude=hor->ELFOamplitude;
hor->Undo[UndoCount].popo=hor->popo;
hor->Undo[UndoCount].ELFOspeed=hor->ELFOspeed;
hor->Undo[UndoCount].chorvol=hor->chorvol;
}

void HORGAN::Redo() {
  UndoCount = UndoCount + 1;
if (UndoCount == 95 ) UndoCount = 0;
int k;
for (k=1; k<=6; k++)
{
hor->Operator[k].volumen =hor->Undo[UndoCount].Operator[k].volumen;
hor->Operator[k].harmonic_fine =hor->Undo[UndoCount].Operator[k].harmonic_fine;
hor->Operator[k].harmonic =hor->Undo[UndoCount].Operator[k].harmonic;
}



hor->echoon = hor->Undo[UndoCount].echoon;
hor->echovol = hor->Undo[UndoCount].echovol;
hor->echodelay = hor->Undo[UndoCount].echodelay;


hor->PLFOspeed = hor->Undo[UndoCount].PLFOspeed;
hor->PLFOdelay = hor->Undo[UndoCount].PLFOdelay;
hor->LFOspeed = hor->Undo[UndoCount].LFOspeed;
hor->LFOpitch = hor->Undo[UndoCount].LFOpitch;
hor->rota = hor->Undo[UndoCount].rota;
hor->modulation = hor->Undo[UndoCount].modulation;
hor->transpose = hor->Undo[UndoCount].transpose;
hor->master = hor->Undo[UndoCount].master;

for (k=0; k<=24; k++) hor->Name[k]=hor->Undo[UndoCount].Name[k];
hor->nombre = hor->Name;

hor->attack = hor->Undo[UndoCount].attack;
hor->detune = hor->Undo[UndoCount].detune;

hor->revon=hor->Undo[UndoCount].revon;
hor->split=hor->Undo[UndoCount].split;
hor->ganmod=hor->Undo[UndoCount].ganmod;
hor->choron=hor->Undo[UndoCount].choron;
hor->ELFOamplitude=hor->Undo[UndoCount].ELFOamplitude;
hor->popo=hor->Undo[UndoCount].popo;
hor->ELFOspeed=hor->Undo[UndoCount].ELFOspeed;
hor->chorvol=hor->Undo[UndoCount].chorvol;






metelo();
}

void HORGAN::PutPrim() {
  int k;
for (k=1; k<=6; k++)
{
hor->Prim[1].Operator[k].volumen=hor->Operator[k].volumen;
hor->Prim[1].Operator[k].harmonic_fine=hor->Operator[k].harmonic_fine;
hor->Prim[1].Operator[k].harmonic=hor->Operator[k].harmonic;
}



hor->Prim[1].echoon=hor->echoon;
hor->Prim[1].echovol=hor->echovol;
hor->Prim[1].echodelay=hor->echodelay;

hor->Prim[1].PLFOspeed=hor->PLFOspeed;
hor->Prim[1].PLFOdelay=hor->PLFOdelay;
hor->Prim[1].LFOspeed=hor->LFOspeed;
hor->Prim[1].LFOpitch=hor->LFOpitch;
hor->Prim[1].rota=hor->rota;
hor->Prim[1].modulation=hor->modulation;
hor->Prim[1].transpose=hor->transpose;
hor->Prim[1].master=hor->master;

for (k=0; k<=24; k++) hor->Prim[1].Name[k]=hor->Name[k];

hor->Prim[1].attack=hor->attack;
hor->Prim[1].detune=hor->detune;
hor->Prim[1].revon=hor->revon;

hor->Prim[1].split=hor->split;
hor->Prim[1].ganmod =hor->ganmod;
hor->Prim[1].choron=hor->choron;
hor->Prim[1].ELFOamplitude=hor->ELFOamplitude;
hor->Prim[1].popo=hor->popo;
hor->Prim[1].ELFOspeed=hor->ELFOspeed;
hor->Prim[1].chorvol=hor->chorvol;
}

void HORGAN::GetPrim() {
  int k;
for (k=1; k<=6; k++)
{
hor->Operator[k].volumen =hor->Prim[1].Operator[k].volumen;
hor->Operator[k].harmonic_fine =hor->Prim[1].Operator[k].harmonic_fine;
hor->Operator[k].harmonic =hor->Prim[1].Operator[k].harmonic;
}




hor->echoon = hor->Prim[1].echoon;
hor->echovol = hor->Prim[1].echovol;
hor->echodelay = hor->Prim[1].echodelay;
hor->PLFOspeed = hor->Prim[1].PLFOspeed;
hor->PLFOdelay = hor->Prim[1].PLFOdelay;
hor->LFOspeed = hor->Prim[1].LFOspeed;
hor->LFOpitch = hor->Prim[1].LFOpitch;
hor->rota = hor->Prim[1].rota;
hor->modulation = hor->Prim[1].modulation;
hor->transpose = hor->Prim[1].transpose;
hor->master = hor->Prim[1].master;
bzero(hor->Name,sizeof(hor->Name));
for (k=0; k<=24; k++) hor->Name[k]=hor->Prim[1].Name[k];
hor->nombre = hor->Name;
hor->attack = hor->Prim[1].attack;
hor->detune = hor->Prim[1].detune;
hor->revon = hor->Prim[1].revon;
hor->split=hor->Prim[1].split;
hor->ganmod=hor->Prim[1].ganmod;
hor->choron=hor->Prim[1].choron;
hor->ELFOamplitude=hor->Prim[1].ELFOamplitude;
hor->popo=hor->Prim[1].popo;
hor->ELFOspeed=hor->Prim[1].ELFOspeed;
hor->chorvol=hor->Prim[1].chorvol;

metelo();
}

void HORGAN::tick(void *v) {
  Fl::add_timeout(1.0/100,tick);
}

void HORGAN::ponreverb() {
  hor->rclean();
switch((int) hor->ganmod)
{
case 1:
hor->rtime = 1.2;
hor->revvol = 0.45;
hor->diffussion = 0.13;

break;

case 2:
hor->rtime = 1.2;
hor->revvol = 0.65;
hor->diffussion = 0.13;
break;

case 3:
hor->rtime = 1.7;
hor->revvol = 0.45;
hor->diffussion = 0.14;
break;

case 4:
hor->rtime = 1.7;
hor->revvol = 0.65;
hor->diffussion = 0.14;
break;

case 5:
hor->rtime = 2.4;
hor->revvol = 0.45;
hor->diffussion = 0.16;
break;

case 6:
hor->rtime = 2.4;
hor->revvol = 0.65;
hor->diffussion = 0.16;

case 7:
hor->rtime = 3.2;
hor->revvol = 0.45;
hor->diffussion = 0.16;
break;

case 8:
hor->rtime = 3.2;
hor->revvol = 0.65;
hor->diffussion = 0.16;
break;
}
}

void HORGAN::GetRit(int Rit) {
  int i;
int rula;

char temp[512];
if (solucion == 1) sprintf(temp,"%s%s","/usr/share/horgand/",hor->Rt[Rit].Nfile);
if (solucion == 2) sprintf(temp,"%s%s","/usr/local/share/horgand/",hor->Rt[Rit].Nfile);

char *tmp = temp;

rula = hor->SelectRitmo(tmp);
if (rula != 0) 
{ 
RitOn->value(0);
StStRiton->value(0);
hor->riton = 0;
return;
}
Tempo->activate();
hor->bars = hor->Rt[Rit].bars;
hor->blackn = hor->Rt[Rit].blackn;

for (i = 1; i<=(4 * hor->blackn * hor->bars); i++)
{
 hor->linb[i] = hor->Rt[Rit].linb[i];
 hor->linbv[i] =hor->Rt[Rit].linbv[i];
}

hor->frametot = (int) (hor->tempo * hor->sfinfo.frames);
hor->fracpos = hor->frametot / (4 * hor->blackn * hor->bars);
Tempo->activate();
}

void HORGAN::meteritmos() {
  Rit1->label(hor->Rt[1].Nom);
Rit2->label(hor->Rt[2].Nom);
Rit3->label(hor->Rt[3].Nom);
Rit4->label(hor->Rt[4].Nom);
Rit5->label(hor->Rt[5].Nom);
Rit6->label(hor->Rt[6].Nom);
Rit7->label(hor->Rt[7].Nom);
Rit8->label(hor->Rt[8].Nom);
Rit9->label(hor->Rt[9].Nom);
Rit10->label(hor->Rt[10].Nom);
Rit11->label(hor->Rt[11].Nom);
Rit12->label(hor->Rt[12].Nom);
Rit13->label(hor->Rt[13].Nom);
Rit14->label(hor->Rt[14].Nom);
Rit15->label(hor->Rt[15].Nom);
Rit16->label(hor->Rt[16].Nom);
Rit17->label(hor->Rt[17].Nom);
Rit18->label(hor->Rt[18].Nom);
Rit19->label(hor->Rt[19].Nom);
Rit20->label(hor->Rt[20].Nom);
}

void HORGAN::calbtrans() {
  hor->btrans = hor->transpose;
if ( hor->btrans > 12 ) hor->btrans = hor->btrans  % 12;
if ( hor->btrans < -12 ) hor->btrans = hor->btrans  % 12;
if ( hor->transpose % 12 == 0) hor->btrans = 0;
}

void HORGAN::calbtune() {
  int i,k;
float btuneval =  ((float) MasterT->value() / 100.0);

for(i=0; i<=11; i++)
{
 if ( MasterT->value() > 0)

  {  k = i + 1;
     if (i == 11) k = 0; 
     hor->AB[i].bmt =  (hor->AB[k].afin - hor->AB[i].afin) * btuneval;

     if (i == 6) hor->AB[6].bmt = (2.980 - hor->AB[6].afin) * btuneval;

  }

 if (MasterT->value()== 0 ) hor->AB[i].bmt = 0;

if ( MasterT->value() < 0)

  {  k = i - 1;
     if (i == 0) k = 11; 
     hor->AB[i].bmt =  (hor->AB[i].afin - hor->AB[k].afin)  * btuneval;
      if (i == 7) hor->AB[7].bmt = (hor->AB[7].afin - 1.3980 ) * btuneval;

  }
 

}
}

void HORGAN::EditRit(int i) {
  hor->ae = i;
RtName->value(hor->Rt[i].Nom);
RtFile->value(hor->Rt[i].Nfile);
RtBars->value(hor->Rt[i].bars);
RtDen->value(hor->Rt[i].blackn);
QuitaPon();
hor->sbars= 1;
meteval();
char temp[512];
sprintf(temp,"%s - Bass Line Editor",hor->Rt[i].Nom);
RitEdit->label(temp);
RitEdit->show();
Fl::focus(CloRit);
}

void HORGAN::QuitaPon() {
  switch(hor->Rt[hor->ae].blackn)
{
  case 2:
     B1G3->hide();
     B1G4->hide();
     lb9->hide();
     lb10->hide();
     lb11->hide();
     lb12->hide();
     lb13->hide();
     lb14->hide();
     lb15->hide();
     lb16->hide();
     lbv9->hide();
     lbv10->hide();
     lbv11->hide();
     lbv12->hide();
     lbv13->hide();
     lbv14->hide();
     lbv15->hide();
     lbv16->hide();
    break;

  case 3:
     B1G3->show();
     B1G4->hide();
     lb9->show();
     lb10->show();
     lb11->show();
     lb12->show();
     lb13->hide();
     lb14->hide();
     lb15->hide();
     lb16->hide();
     lbv9->show();
     lbv10->show();
     lbv11->show();
     lbv12->show();
     lbv13->hide();
     lbv14->hide();
     lbv15->hide();
     lbv16->hide();
     break;
  case 4:
     B1G3->show();
     B1G4->show();
     lb9->show();
     lb10->show();
     lb11->show();
     lb12->show();
     lb13->show();
     lb14->show();
     lb15->show();
     lb16->show();
     lbv9->show();
     lbv10->show();
     lbv11->show();
     lbv12->show();
     lbv13->show();
     lbv14->show();
     lbv15->show();
     lbv16->show();
     break;
}
}

void HORGAN::meteval() {
  int i = (hor->sbars- 1) * (hor->Rt[hor->ae].blackn * 4);


lb1->value(hor->Rt[hor->ae].linb[i+1]);
lb2->value(hor->Rt[hor->ae].linb[i+2]);
lb3->value(hor->Rt[hor->ae].linb[i+3]);
lb4->value(hor->Rt[hor->ae].linb[i+4]);
lb5->value(hor->Rt[hor->ae].linb[i+5]);
lb6->value(hor->Rt[hor->ae].linb[i+6]);
lb7->value(hor->Rt[hor->ae].linb[i+7]);
lb8->value(hor->Rt[hor->ae].linb[i+8]);
lbv1->value(hor->Rt[hor->ae].linbv[i+1]);
lbv2->value(hor->Rt[hor->ae].linbv[i+2]);
lbv3->value(hor->Rt[hor->ae].linbv[i+3]);
lbv4->value(hor->Rt[hor->ae].linbv[i+4]);
lbv5->value(hor->Rt[hor->ae].linbv[i+5]);
lbv6->value(hor->Rt[hor->ae].linbv[i+6]);
lbv7->value(hor->Rt[hor->ae].linbv[i+7]);
lbv8->value(hor->Rt[hor->ae].linbv[i+8]);

if ( hor->Rt[hor->ae].blackn > 2)
{

lb9->value(hor->Rt[hor->ae].linb[i+9]);
lb10->value(hor->Rt[hor->ae].linb[i+10]);
lb11->value(hor->Rt[hor->ae].linb[i+11]);
lb12->value(hor->Rt[hor->ae].linb[i+12]);
lbv9->value(hor->Rt[hor->ae].linbv[i+9]);
lbv10->value(hor->Rt[hor->ae].linbv[i+10]);
lbv11->value(hor->Rt[hor->ae].linbv[i+11]);
lbv12->value(hor->Rt[hor->ae].linbv[i+12]);

}

if ( hor->Rt[hor->ae].blackn > 3)

{

lb13->value(hor->Rt[hor->ae].linb[i+13]);
lb14->value(hor->Rt[hor->ae].linb[i+14]);
lb15->value(hor->Rt[hor->ae].linb[i+15]);
lb16->value(hor->Rt[hor->ae].linb[i+16]);
lbv13->value(hor->Rt[hor->ae].linbv[i+13]);
lbv14->value(hor->Rt[hor->ae].linbv[i+14]);
lbv15->value(hor->Rt[hor->ae].linbv[i+15]);
lbv16->value(hor->Rt[hor->ae].linbv[i+16]);
}

SBar->value(hor->sbars);
}

void HORGAN::ApagaTodo() {
  Rit1->value(0);
Rit2->value(0);
Rit3->value(0);
Rit4->value(0);
Rit5->value(0);
Rit6->value(0);
Rit7->value(0);
Rit8->value(0);
Rit9->value(0);
Rit10->value(0);
Rit11->value(0);
Rit12->value(0);
Rit13->value(0);
Rit14->value(0);
Rit15->value(0);
Rit16->value(0);
Rit17->value(0);
Rit18->value(0);
Rit19->value(0);
Rit20->value(0);
}

void HORGAN::meteprog() {
  Master->value(hor->master * 100.0);


V1->value(hor->Operator[1].volumen * 100);
V2->value(hor->Operator[2].volumen * 100);
V3->value(hor->Operator[3].volumen * 100);
V4->value(hor->Operator[4].volumen * 100);
V5->value(hor->Operator[5].volumen * 100);
V6->value(hor->Operator[6].volumen * 100);

H1->value(hor->Operator[1].harmonic);
H2->value(hor->Operator[2].harmonic);
H3->value(hor->Operator[3].harmonic);
H4->value(hor->Operator[4].harmonic);
H5->value(hor->Operator[5].harmonic);
H6->value(hor->Operator[6].harmonic);



char *t;

t = (char *) malloc (20 * sizeof (char) * 12);

NV1->value(hor->lasfreq[hor->Operator[1].harmonic]);
NV2->value(hor->lasfreq[hor->Operator[2].harmonic]);
NV3->value(hor->lasfreq[hor->Operator[3].harmonic]);
NV4->value(hor->lasfreq[hor->Operator[4].harmonic]);
NV5->value(hor->lasfreq[hor->Operator[5].harmonic]);
NV6->value(hor->lasfreq[hor->Operator[6].harmonic]);

Marimba->value(hor->attack * 100);
Detune->value(hor->detune);
PLFOSpeed->value(hor->PLFOspeed);
PLFODelay->value(hor->PLFOdelay * 10);
LFOSpeed->value(hor->LFOspeed);
LFOPitch->value(hor->LFOpitch);
Rota->value(hor->rota);
MasterT->value(1 - hor->mastertune);
Transpose->value(hor->transpose);
calbtrans();
Nombre->value(hor->nombre);
CPrograma->value(hor->cprograma);
EchoVol->value(hor->echovol * 100);
EchoDelay->value(hor->echodelay / 176400);
EchoOn->value(hor->echoon);
Rev->value((int)hor->revon);

if ((int)hor->revon == 1)
{

R1->activate();
R2->activate();
R3->activate();
R4->activate();
R5->activate();
R6->activate();
R7->activate();
R8->activate();
switch((int) hor->ganmod)
{
case 1:
R1->setonly();
break;
case 2:
R2->setonly();
break;
case 3:
R3->setonly();
break;
case 4:
R4->setonly();
break;
case 5:
R5->setonly();
break;
case 6:
R6->setonly();
break;
case 7:
R7->setonly();
break;
case 8:
R8->setonly();
break;
}
}
else
{
R1->value(0);
R2->value(0);
R3->value(0);
R4->value(0);
R5->value(0);
R6->value(0);
R7->value(0);
R8->value(0);
R1->deactivate();
R2->deactivate();
R3->deactivate();
R4->deactivate();
R5->deactivate();
R6->deactivate();
R7->deactivate();
R8->deactivate();
}
ponreverb();
Split->value(hor->split);
ChorusOn->value(hor->choron);
ELFOAmplitude->value(hor->ELFOamplitude);
POPO->value(hor->popo);
ELFOSpeed->value(hor->ELFOspeed);
ChorVol->value(hor->chorvol * 100);

hor->procesaclean();
hor->chorusclean();
hor->rclean();
}
